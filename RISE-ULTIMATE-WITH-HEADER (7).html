<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RISE CdeO - Master</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone@7.23.5/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f5; }
        #root { max-width: 430px; margin: 0 auto; background: #f8f9fa; min-height: 100vh; box-shadow: 0 0 30px rgba(0,0,0,0.1); }
        .app-container { min-height: 100vh; padding-bottom: 80px; }
        
        /* Header */
        .app-header { background: linear-gradient(135deg, #16a34a 0%, #15803d 100%); padding: 12px 20px; display: flex; justify-content: space-between; align-items: center; color: white; }
        .header-left { display: flex; align-items: center; gap: 12px; }
        .app-logo { width: 40px; height: 40px; background: white; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: 800; font-size: 13px; color: #16a34a; }
        .header-text .title { font-size: 16px; font-weight: 600; }
        .header-text .subtitle { font-size: 9px; opacity: 0.95; text-transform: uppercase; letter-spacing: 0.5px; }
        .header-icons { display: flex; gap: 8px; }
        .icon-btn { width: 36px; height: 36px; border-radius: 50%; background: rgba(255,255,255,0.2); border: none; color: white; font-size: 18px; cursor: pointer; position: relative; transition: background 0.2s; }
        .icon-btn:hover { background: rgba(255,255,255,0.3); }
        .notification-badge { position: absolute; top: 4px; right: 4px; width: 18px; height: 18px; background: #ef4444; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: 700; border: 2px solid #16a34a; }
        
        /* Notification Panel */
        .notification-panel { position: fixed; top: 60px; right: 10px; width: 90%; max-width: 360px; background: white; border-radius: 16px; box-shadow: 0 8px 32px rgba(0,0,0,0.2); z-index: 1001; animation: slideDown 0.3s ease-out; max-height: 80vh; display: flex; flex-direction: column; }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
        .panel-header { padding: 20px; border-bottom: 1px solid #e5e7eb; display: flex; justify-content: space-between; align-items: center; }
        .panel-title { font-size: 18px; font-weight: 700; color: #1f2937; }
        .mark-read-btn { background: none; border: none; color: #16a34a; font-size: 13px; font-weight: 600; cursor: pointer; }
        .panel-content { flex: 1; overflow-y: auto; }
        .notification-item { padding: 16px 20px; border-bottom: 1px solid #f3f4f6; display: flex; gap: 12px; cursor: pointer; transition: background 0.2s; }
        .notification-item:hover { background: #f9fafb; }
        .notification-item.unread { background: #f0fdf4; }
        .notification-icon-wrapper { width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; font-size: 20px; }
        .notification-icon-wrapper.success { background: #d1fae5; }
        .notification-icon-wrapper.info { background: #dbeafe; }
        .notification-icon-wrapper.warning { background: #fef3c7; }
        .notification-content { flex: 1; }
        .notification-title { font-size: 14px; font-weight: 600; color: #1f2937; margin-bottom: 4px; }
        .notification-message { font-size: 13px; color: #6b7280; line-height: 1.4; margin-bottom: 4px; }
        .notification-time { font-size: 11px; color: #9ca3af; }
        .no-notifications { padding: 60px 20px; text-align: center; }
        .no-notifications-icon { font-size: 48px; margin-bottom: 12px; opacity: 0.5; }
        .no-notifications-text { font-size: 14px; color: #9ca3af; }
        
        /* Menu Drawer */
        .menu-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1000; animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .menu-drawer { position: fixed; top: 0; right: 0; width: 85%; max-width: 320px; height: 100%; background: white; box-shadow: -4px 0 24px rgba(0,0,0,0.2); z-index: 1001; animation: slideInRight 0.3s ease-out; display: flex; flex-direction: column; }
        @keyframes slideInRight { from { transform: translateX(100%); } to { transform: translateX(0); } }
        .menu-header { background: linear-gradient(135deg, #16a34a 0%, #15803d 100%); padding: 24px 20px; color: white; }
        .menu-user { display: flex; align-items: center; gap: 12px; margin-bottom: 16px; }
        .menu-avatar { width: 56px; height: 56px; border-radius: 50%; background: rgba(255,255,255,0.2); display: flex; align-items: center; justify-content: center; font-size: 24px; font-weight: 600; border: 2px solid white; }
        .menu-user-info { flex: 1; }
        .menu-user-name { font-size: 18px; font-weight: 700; margin-bottom: 2px; }
        .menu-user-email { font-size: 13px; opacity: 0.9; }
        .menu-close { position: absolute; top: 20px; right: 20px; background: rgba(255,255,255,0.2); border: none; width: 32px; height: 32px; border-radius: 50%; color: white; font-size: 20px; cursor: pointer; }
        .menu-content { flex: 1; overflow-y: auto; }
        .menu-section { padding: 8px 0; }
        .menu-section-title { padding: 12px 20px 8px; font-size: 11px; font-weight: 700; color: #9ca3af; text-transform: uppercase; letter-spacing: 0.5px; }
        .menu-item { padding: 14px 20px; display: flex; align-items: center; gap: 16px; cursor: pointer; border: none; background: none; width: 100%; text-align: left; transition: background 0.2s; }
        .menu-item:hover { background: #f9fafb; }
        .menu-item-icon { width: 40px; height: 40px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 20px; flex-shrink: 0; }
        .menu-item-icon.green { background: #d1fae5; }
        .menu-item-icon.blue { background: #dbeafe; }
        .menu-item-icon.purple { background: #e9d5ff; }
        .menu-item-icon.orange { background: #fed7aa; }
        .menu-item-icon.red { background: #fecaca; }
        .menu-item-content { flex: 1; }
        .menu-item-title { font-size: 15px; font-weight: 600; color: #1f2937; margin-bottom: 2px; }
        .menu-item-desc { font-size: 12px; color: #6b7280; }
        .menu-divider { height: 1px; background: #e5e7eb; margin: 8px 0; }
        .menu-footer { padding: 16px 20px; border-top: 1px solid #e5e7eb; }
        .menu-version { font-size: 12px; color: #9ca3af; text-align: center; }
        
        /* Better QR Icon */
        .qr-icon-svg { width: 24px; height: 24px; fill: currentColor; }
        
        /* Profile Edit Modals */
        .profile-modal { position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 2000; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .profile-modal-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.6); }
        .profile-modal-content { position: relative; background: white; border-radius: 20px; width: 100%; max-width: 400px; max-height: 90vh; display: flex; flex-direction: column; animation: modalSlide 0.3s ease-out; }
        .profile-modal-header { padding: 20px; border-bottom: 1px solid #e5e7eb; }
        .profile-modal-title { font-size: 18px; font-weight: 600; color: #1f2937; }
        .profile-modal-body { flex: 1; overflow-y: auto; padding: 20px; }
        .profile-modal-footer { padding: 20px; border-top: 1px solid #e5e7eb; display: flex; gap: 12px; }
        .input-group { margin-bottom: 20px; }
        .input-label { font-size: 13px; font-weight: 500; color: #374151; margin-bottom: 8px; display: block; }
        .input-field { width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; }
        .input-field:focus { outline: none; border-color: #16a34a; }
        .input-field:disabled { background: #f9fafb; color: #9ca3af; }
        .password-requirements { background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 8px; padding: 12px; margin-top: 16px; }
        .password-requirements-title { font-size: 12px; font-weight: 600; color: #166534; margin-bottom: 8px; }
        .password-requirements-list { font-size: 12px; color: #166534; line-height: 1.6; }
        .logout-confirm-text { font-size: 14px; color: #6b7280; line-height: 1.6; text-align: center; margin-bottom: 24px; }
        .logout-confirm-icon { font-size: 48px; text-align: center; margin-bottom: 16px; }
        
        /* Clickable Cards Enhancement */
        .dept-card:hover, .dept-modal-card:hover, .payment-item:hover, .tax-option:hover, .menu-item:hover { transform: translateY(-2px); }
        .dept-card:active, .dept-modal-card:active, .payment-item:active, .tax-option:active, .menu-item:active { transform: scale(0.98); }
        
        /* SweetAlert Modal */
        .swal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); z-index: 3000; display: flex; align-items: center; justify-content: center; padding: 20px; animation: fadeIn 0.3s ease-out; }
        .swal-modal { background: white; border-radius: 16px; width: 100%; max-width: 420px; max-height: 90vh; overflow: hidden; animation: swalSlideIn 0.3s ease-out; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
        @keyframes swalSlideIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .swal-header { padding: 24px 24px 16px; }
        .swal-close { position: absolute; top: 16px; right: 16px; background: #f3f4f6; border: none; width: 32px; height: 32px; border-radius: 50%; font-size: 20px; color: #6b7280; cursor: pointer; transition: background 0.2s; }
        .swal-close:hover { background: #e5e7eb; }
        .swal-title { font-size: 20px; font-weight: 700; color: #1f2937; margin-bottom: 8px; padding-right: 40px; }
        .swal-subtitle { font-size: 14px; color: #6b7280; line-height: 1.5; }
        .swal-body { padding: 0 24px 24px; max-height: 60vh; overflow-y: auto; }
        .swal-text { font-size: 14px; color: #374151; line-height: 1.6; margin-bottom: 20px; }
        .swal-reminders { background: #f9fafb; border-radius: 8px; padding: 16px; margin-bottom: 20px; }
        .swal-reminders-title { font-size: 13px; font-weight: 600; color: #374151; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 0.5px; }
        .swal-reminders-list { font-size: 14px; color: #6b7280; line-height: 1.8; }
        .swal-reminders-list li { padding-left: 8px; margin-bottom: 8px; }
        .swal-footer { padding: 0 24px 24px; }
        .swal-button { width: 100%; background: #16a34a; color: white; border: none; padding: 14px; border-radius: 8px; font-size: 15px; font-weight: 600; cursor: pointer; transition: background 0.2s; }
        .swal-button:hover { background: #15803d; }
        
        /* New Profile Page Design */
        .profile-header-new { background: linear-gradient(135deg, #16a34a 0%, #15803d 100%); padding: 40px 20px 80px; text-align: center; color: white; position: relative; }
        .profile-avatar-large { width: 100px; height: 100px; border-radius: 50%; margin: 0 auto 16px; position: relative; background: white; padding: 4px; }
        .profile-avatar-inner { width: 100%; height: 100%; border-radius: 50%; background: white; display: flex; align-items: center; justify-content: center; overflow: hidden; }
        .profile-avatar-img { width: 100%; height: 100%; object-fit: cover; }
        .profile-camera-btn { position: absolute; bottom: 0; right: 0; width: 36px; height: 36px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; cursor: pointer; box-shadow: 0 2px 8px rgba(0,0,0,0.15); }
        .profile-name-large { font-size: 24px; font-weight: 700; margin-bottom: 4px; }
        .profile-email-large { font-size: 14px; opacity: 0.95; }
        .profile-cards-container { margin-top: -60px; padding: 0 20px 80px; }
        .profile-info-card { background: white; border-radius: 16px; padding: 20px; margin-bottom: 16px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); }
        .profile-card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 1px solid #f3f4f6; }
        .profile-card-title { font-size: 13px; font-weight: 700; color: #6b7280; text-transform: uppercase; letter-spacing: 0.5px; }
        .profile-edit-icon { color: #16a34a; font-size: 20px; cursor: pointer; }
        .profile-info-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; }
        .profile-info-item { }
        .profile-info-label { font-size: 12px; color: #9ca3af; margin-bottom: 4px; }
        .profile-info-value { font-size: 15px; color: #1f2937; font-weight: 500; }
        .profile-info-item.full-width { grid-column: 1 / -1; }
        
        /* Profile Edit State */
        .profile-actions { display: flex; gap: 8px; }
        .profile-action-icon { width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 16px; cursor: pointer; transition: all 0.2s; }
        .profile-action-icon.edit { background: #dbeafe; color: #1e40af; }
        .profile-action-icon.edit:hover { background: #bfdbfe; }
        .profile-action-icon.save { background: #d1fae5; color: #065f46; }
        .profile-action-icon.save:hover { background: #a7f3d0; }
        .profile-action-icon.cancel { background: #fee2e2; color: #991b1b; }
        .profile-action-icon.cancel:hover { background: #fecaca; }
        .profile-info-input { width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 15px; font-weight: 500; color: #1f2937; }
        .profile-info-input:focus { outline: none; border-color: #16a34a; }
        .profile-info-select { width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 15px; font-weight: 500; color: #1f2937; background: white; }
        
        /* Login Pages */
        .login-container { min-height: 100vh; display: flex; flex-direction: column; background: #e8f5e9; align-items: center; justify-content: center; padding: 20px; }
        .login-card { background: white; border-radius: 24px; padding: 40px 32px; width: 100%; max-width: 420px; box-shadow: 0 8px 32px rgba(0,0,0,0.08); }
        .login-header { padding: 0; text-align: center; color: #1f2937; position: relative; margin-bottom: 32px; }
        .login-logo-colorful { width: 280px; height: auto; margin: 0 auto 24px; cursor: pointer; user-select: none; transition: transform 0.2s; }
        .logo-container { display: flex; align-items: center; justify-content: center; gap: 16px; margin-bottom: 24px; }
        .cdeo-seal { width: 60px; height: 60px; border-radius: 50%; }
        .login-title { font-size: 28px; font-weight: 700; margin-bottom: 8px; color: #1f2937; }
        .login-subtitle { font-size: 14px; opacity: 0.7; color: #6b7280; line-height: 1.6; }
        .login-content { flex: 1; background: transparent; border-radius: 0; padding: 0; margin-top: 0; }
        .login-welcome { text-align: center; margin-bottom: 24px; }
        .login-welcome h2 { font-size: 24px; font-weight: 700; color: #1f2937; margin-bottom: 8px; }
        .login-welcome p { font-size: 14px; color: #6b7280; }
        .feature-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin: 32px 0; }
        .feature-card { background: white; border: 1px solid #e5e7eb; border-radius: 12px; padding: 20px 16px; text-align: center; transition: all 0.2s; }
        .feature-card:hover { border-color: #16a34a; box-shadow: 0 4px 12px rgba(22, 163, 74, 0.1); }
        .feature-icon { font-size: 32px; margin-bottom: 12px; color: #16a34a; }
        .feature-text { font-size: 13px; font-weight: 600; color: #374151; }
        .login-form { max-width: 100%; margin: 0; }
        .login-input-group { margin-bottom: 20px; }
        .login-input-label { font-size: 14px; font-weight: 600; color: #374151; margin-bottom: 8px; display: block; text-align: left; }
        .login-input-wrapper { position: relative; }
        .login-input-icon { position: absolute; left: 14px; top: 50%; transform: translateY(-50%); color: #9ca3af; font-size: 20px; }
        .login-input { width: 100%; padding: 14px 14px 14px 48px; border: 1px solid #d1d5db; border-radius: 10px; font-size: 15px; background: #f9fafb; }
        .login-input:focus { outline: none; border-color: #16a34a; background: white; }
        .login-input::placeholder { color: #9ca3af; }
        .password-toggle { position: absolute; right: 14px; top: 50%; transform: translateY(-50%); color: #9ca3af; font-size: 18px; cursor: pointer; }
        .login-forgot { text-align: right; margin-top: -12px; margin-bottom: 24px; }
        .login-forgot a { color: #16a34a; font-size: 13px; font-weight: 600; text-decoration: none; }
        .login-button { width: 100%; background: #16a34a; color: white; border: none; padding: 16px; border-radius: 10px; font-size: 16px; font-weight: 600; cursor: pointer; transition: background 0.2s; }
        .login-button:hover { background: #15803d; }
        .login-button-outline { width: 100%; background: white; color: #16a34a; border: 1px solid #16a34a; padding: 16px; border-radius: 10px; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.2s; margin-top: 12px; }
        .login-button-outline:hover { background: #f0fdf4; }
        .login-divider { display: flex; align-items: center; gap: 16px; margin: 24px 0; }
        .login-divider-line { flex: 1; height: 1px; background: #e5e7eb; }
        .login-divider-text { font-size: 13px; color: #9ca3af; }
        .login-footer { text-align: center; margin-top: 24px; padding-top: 0; border-top: none; }
        .login-footer-text { font-size: 13px; color: #6b7280; line-height: 1.6; }
        .login-footer-link { color: #16a34a; font-weight: 600; text-decoration: none; }
        .back-button { background: none; border: none; color: #9ca3af; font-size: 14px; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 4px; margin-bottom: 24px; padding: 0; }
        .back-button:hover { color: #16a34a; }
        .admin-badge { background: #fef3c7; color: #92400e; padding: 4px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; display: inline-block; margin-bottom: 16px; }
        
        /* Secret Admin Access Animation */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        /* Admin Dashboard */
        .admin-dashboard { background: #f3f4f6; min-height: 100vh; padding-bottom: 80px; }
        .admin-header { background: #16a34a; padding: 12px 16px; display: flex; align-items: center; justify-content: space-between; }
        .admin-logo-section { display: flex; align-items: center; gap: 12px; }
        .admin-logo-box { background: white; padding: 6px 12px; border-radius: 8px; display: flex; align-items: center; gap: 6px; }
        .admin-logo-icon { width: 24px; height: 24px; }
        .admin-logo-text { font-weight: 700; font-size: 14px; }
        .admin-logo-text .green { color: #166534; }
        .admin-logo-text .blue { color: #0ea5e9; }
        .admin-logo-text .yellow { color: #f59e0b; }
        .admin-logo-text .red { color: #ef4444; }
        .admin-title-section { color: white; }
        .admin-title-main { font-size: 13px; font-weight: 700; }
        .admin-title-sub { font-size: 10px; opacity: 0.9; }
        .admin-header-icons { display: flex; align-items: center; gap: 12px; }
        .admin-header-icon { color: white; font-size: 20px; cursor: pointer; }
        .admin-banner { background: #dc2626; color: white; padding: 20px; display: flex; align-items: center; justify-content: space-between; }
        .admin-banner-left { display: flex; align-items: center; gap: 16px; }
        .admin-back-btn { background: none; border: none; color: white; font-size: 24px; cursor: pointer; }
        .admin-banner-text h2 { font-size: 22px; font-weight: 700; margin: 0; }
        .admin-banner-text p { font-size: 13px; margin: 4px 0 0 0; opacity: 0.95; }
        .admin-banner-right { display: flex; align-items: center; gap: 12px; }
        .admin-refresh-btn { background: none; border: none; color: white; font-size: 24px; cursor: pointer; }
        .admin-seal { width: 50px; height: 50px; border-radius: 50%; background: white; padding: 4px; }
        .admin-tabs { background: white; padding: 12px 16px; display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; border-bottom: 1px solid #e5e7eb; }
        .admin-tab { background: #f9fafb; border: none; padding: 10px 8px; border-radius: 8px; font-size: 12px; font-weight: 600; color: #374151; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 6px; transition: all 0.2s; }
        .admin-tab:hover { background: #f0fdf4; color: #16a34a; }
        .admin-tab.active { background: #16a34a; color: white; }
        .admin-content { padding: 16px; }
        .admin-stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 16px; }
        .admin-stat-card { background: white; border-radius: 12px; padding: 24px 20px; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
        .admin-stat-card.pink { background: linear-gradient(135deg, #fce7f3 0%, #fecdd3 100%); }
        .admin-stat-card.green { background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%); }
        .admin-stat-number { font-size: 48px; font-weight: 700; margin-bottom: 8px; }
        .admin-stat-number.red { color: #dc2626; }
        .admin-stat-number.green { color: #16a34a; }
        .admin-stat-label { font-size: 13px; font-weight: 600; color: #374151; }
        .admin-emergency-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
        .admin-emergency-card { background: white; border: 1px solid #e5e7eb; border-radius: 12px; padding: 20px; text-align: center; cursor: pointer; transition: all 0.2s; }
        .admin-emergency-card:hover { border-color: #16a34a; box-shadow: 0 4px 12px rgba(22, 163, 74, 0.1); transform: translateY(-2px); }
        .admin-emergency-icon { font-size: 32px; margin-bottom: 8px; }
        .admin-emergency-label { font-size: 14px; font-weight: 600; color: #374151; }
        
        /* Main Content */
        .main-content { padding: 20px; }
        .greeting-section { display: flex; align-items: center; gap: 12px; margin-bottom: 20px; }
        .avatar { width: 48px; height: 48px; border-radius: 50%; background: #3b82f6; color: white; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; }
        .greeting-text { flex: 1; }
        .greeting-title { font-size: 18px; font-weight: 700; color: #1f2937; margin-bottom: 2px; }
        .greeting-subtitle { font-size: 13px; color: #6b7280; }
        
        /* Search */
        .search-bar { position: relative; margin-bottom: 24px; }
        .search-icon { position: absolute; left: 14px; top: 50%; transform: translateY(-50%); color: #9ca3af; font-size: 18px; }
        .search-input { width: 100%; padding: 12px 12px 12px 44px; border: 1px solid #e5e7eb; border-radius: 10px; font-size: 14px; background: white; }
        .search-input::placeholder { color: #9ca3af; }
        
        /* Sections */
        .section-label { font-size: 11px; font-weight: 700; color: #9ca3af; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 12px; }
        
        /* Incident Buttons */
        .incident-buttons { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 28px; }
        .incident-btn { background: #ef4444; border: none; border-radius: 12px; padding: 16px 8px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 8px; color: white; transition: transform 0.2s; }
        .incident-btn:active { transform: scale(0.95); }
        .incident-btn.fire { background: #f97316; }
        .incident-btn.police { background: #3b82f6; }
        .incident-btn.disaster { background: #f59e0b; }
        .incident-icon { font-size: 28px; }
        .incident-label { font-size: 12px; font-weight: 600; }
        
        /* Departments */
        .section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
        .section-title { display: flex; align-items: center; gap: 6px; font-size: 11px; font-weight: 700; color: #9ca3af; text-transform: uppercase; letter-spacing: 0.5px; }
        .view-all-link { font-size: 13px; color: #16a34a; font-weight: 600; background: none; border: none; cursor: pointer; }
        .departments-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 28px; }
        .dept-card { background: white; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px 12px; text-align: center; cursor: pointer; }
        .dept-icon { font-size: 32px; margin-bottom: 8px; }
        .dept-name { font-size: 12px; color: #1f2937; font-weight: 500; line-height: 1.3; }
        
        /* City Updates */
        .updates-card { background: linear-gradient(135deg, #16a34a 0%, #15803d 100%); border-radius: 12px; padding: 20px; color: white; margin-bottom: 20px; }
        .announcement-badge { display: inline-block; background: rgba(255,255,255,0.25); padding: 4px 10px; border-radius: 4px; font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 10px; }
        .update-title { font-size: 18px; font-weight: 700; margin-bottom: 6px; }
        .update-text { font-size: 13px; opacity: 0.95; line-height: 1.5; }
        
        /* Payment Pages */
        .payment-page { background: white; min-height: calc(100vh - 80px); }
        .payment-hero { background: linear-gradient(135deg, #16a34a 0%, #15803d 100%); padding: 20px; color: white; }
        .payment-hero h2 { font-size: 16px; font-weight: 500; opacity: 0.95; }
        .back-link { background: none; border: none; color: white; font-size: 14px; display: flex; align-items: center; gap: 6px; cursor: pointer; margin-bottom: 12px; }
        .treasurer-info { background: #e0f2fe; border: 1px solid #bae6fd; border-radius: 12px; padding: 16px; margin: 20px; }
        .treasurer-info-title { display: flex; align-items: center; gap: 8px; font-size: 14px; font-weight: 600; color: #0369a1; margin-bottom: 4px; }
        .treasurer-info-text { font-size: 13px; color: #0369a1; }
        .payment-list { padding: 0 20px; }
        .payment-item { background: white; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; margin-bottom: 12px; display: flex; align-items: center; gap: 16px; cursor: pointer; transition: all 0.2s; }
        .payment-item:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .payment-item-icon { width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px; flex-shrink: 0; }
        .payment-item-icon.blue { background: #dbeafe; color: #1e40af; }
        .payment-item-icon.green { background: #d1fae5; color: #065f46; }
        .payment-item-icon.purple { background: #e9d5ff; color: #6b21a8; }
        .payment-item-icon.orange { background: #fed7aa; color: #c2410c; }
        .payment-item-icon.red { background: #fecaca; color: #b91c1c; }
        .payment-item-content { flex: 1; }
        .payment-item-title { font-size: 15px; font-weight: 600; color: #1f2937; margin-bottom: 2px; }
        .payment-item-subtitle { font-size: 13px; color: #6b7280; }
        .payment-item-arrow { color: #d1d5db; font-size: 20px; }
        .payment-methods-box { background: #d1fae5; border: 1px solid #a7f3d0; border-radius: 12px; padding: 16px; margin: 20px; }
        .payment-methods-title { display: flex; align-items: center; gap: 8px; font-size: 14px; font-weight: 600; color: #065f46; margin-bottom: 12px; }
        .payment-methods-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
        .payment-method-chip { background: white; border: 1px solid #a7f3d0; border-radius: 8px; padding: 10px; display: flex; align-items: center; gap: 8px; font-size: 13px; color: #065f46; font-weight: 500; }
        .payment-method-chip-icon { width: 24px; height: 24px; border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 14px; }
        .payment-method-chip-icon.gcash { background: #3b82f6; color: white; }
        .payment-method-chip-icon.maya { background: #10b981; color: white; }
        .payment-method-chip-icon.bank { background: #8b5cf6; color: white; }
        .payment-method-chip-icon.otc { background: #f97316; color: white; }
        .tax-options { padding: 20px; }
        .tax-option { background: white; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; }
        .tax-option-content h3 { font-size: 15px; font-weight: 600; color: #1f2937; margin-bottom: 4px; }
        .tax-option-content p { font-size: 13px; color: #6b7280; }
        .tax-option-arrow { color: #d1d5db; font-size: 20px; }
        .city-office-box { background: #d1fae5; border: 1px solid #a7f3d0; border-radius: 12px; padding: 16px; margin: 20px; }
        .city-office-title { display: flex; align-items: center; gap: 8px; font-size: 14px; font-weight: 600; color: #065f46; margin-bottom: 8px; }
        .city-office-text { font-size: 12px; color: #065f46; line-height: 1.6; margin-bottom: 8px; }
        .city-office-hours { font-weight: 600; }
        
        /* QR Page */
        .qr-page { background: white; padding: 30px 20px; text-align: center; min-height: calc(100vh - 80px); }
        .qr-page h1 { font-size: 28px; font-weight: 700; color: #1f2937; margin-bottom: 8px; }
        .qr-subtitle { font-size: 14px; color: #6b7280; margin-bottom: 32px; }
        .qr-container { background: white; border: 2px solid #14b8a6; border-radius: 16px; padding: 24px; margin: 0 auto 20px; max-width: 300px; display: inline-block; }
        .qr-canvas { width: 100%; height: auto; }
        .resident-id-section { margin-top: 20px; padding-top: 20px; border-top: 1px solid #e5e7eb; }
        .id-label { font-size: 12px; color: #9ca3af; margin-bottom: 6px; }
        .id-value { font-size: 18px; font-weight: 700; color: #1f2937; }
        .view-digital-btn { background: #16a34a; color: white; border: none; padding: 14px 32px; border-radius: 10px; font-size: 16px; font-weight: 600; cursor: pointer; display: inline-flex; align-items: center; gap: 8px; margin-bottom: 16px; }
        .qr-info-text { font-size: 13px; color: #9ca3af; line-height: 1.5; margin-bottom: 32px; }
        .user-info { padding-top: 32px; border-top: 1px solid #e5e7eb; color: #6b7280; font-size: 14px; line-height: 1.6; }
        
        /* Digital ID */
        .digital-id-page { background: white; padding: 20px; min-height: calc(100vh - 80px); }
        .back-button { background: white; border: 1px solid #e5e7eb; padding: 10px 20px; border-radius: 8px; font-size: 14px; color: #6b7280; cursor: pointer; display: inline-flex; align-items: center; gap: 8px; margin-bottom: 24px; font-weight: 500; }
        .page-title { text-align: center; font-size: 20px; font-weight: 600; color: #16a34a; margin-bottom: 24px; display: flex; align-items: center; justify-content: center; gap: 8px; }
        .id-card { background: linear-gradient(135deg, #14b8a6 0%, #0d9488 100%); border-radius: 16px; padding: 24px; color: white; margin-bottom: 16px; box-shadow: 0 8px 24px rgba(20, 184, 166, 0.3); }
        .id-header { display: flex; align-items: flex-start; gap: 12px; margin-bottom: 20px; }
        .seal { width: 50px; height: 50px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        .seal-inner { width: 44px; height: 44px; border: 2px solid #dc2626; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 8px; color: #dc2626; font-weight: 700; }
        .id-header-text { flex: 1; text-align: left; }
        .republic-text { font-size: 9px; opacity: 0.95; margin-bottom: 2px; }
        .city-name { font-size: 14px; font-weight: 700; letter-spacing: 0.5px; margin-bottom: 2px; }
        .program-name { font-size: 11px; opacity: 0.95; }
        .id-number { font-size: 28px; font-weight: 700; letter-spacing: 2px; margin-bottom: 20px; }
        .cardholder-section { margin-bottom: 16px; }
        .field-label { font-size: 9px; opacity: 0.85; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px; }
        .field-value { font-size: 18px; font-weight: 700; }
        .id-footer { display: flex; gap: 24px; }
        .id-footer-item { flex: 1; }
        .id-card-back { background: white; border: 1px solid #e5e7eb; border-radius: 16px; padding: 20px; margin-bottom: 16px; }
        .signature-strip { background: #1f2937; height: 40px; margin: -20px -20px 20px; border-radius: 16px 16px 0 0; }
        .signature-section { display: flex; justify-content: space-between; align-items: flex-end; padding: 16px 0; border-bottom: 1px solid #e5e7eb; margin-bottom: 20px; }
        .signature { font-family: 'Brush Script MT', cursive; font-size: 22px; color: #1f2937; }
        .cvc { font-size: 14px; font-weight: 700; color: #1f2937; }
        .qr-and-text { display: flex; gap: 16px; align-items: flex-start; }
        .qr-small { width: 80px; height: 80px; flex-shrink: 0; }
        .issuer-info { flex: 1; font-size: 11px; color: #6b7280; line-height: 1.5; text-align: left; }
        .issuer-info strong { display: block; color: #1f2937; margin-bottom: 4px; }
        .security-notice { background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 12px; padding: 16px; display: flex; gap: 12px; align-items: flex-start; }
        .security-notice-icon { font-size: 24px; flex-shrink: 0; }
        .security-notice-text { flex: 1; font-size: 13px; color: #166534; }
        .security-notice-text strong { display: block; font-weight: 600; margin-bottom: 4px; }
        
        /* Profile Page */
        .profile-page { background: white; padding: 20px; min-height: calc(100vh - 80px); }
        .profile-header { text-align: center; margin-bottom: 32px; }
        .profile-avatar { width: 80px; height: 80px; border-radius: 50%; background: #3b82f6; color: white; display: flex; align-items: center; justify-content: center; font-size: 32px; font-weight: 600; margin: 0 auto 16px; }
        .profile-name { font-size: 24px; font-weight: 700; color: #1f2937; margin-bottom: 4px; }
        .profile-email { font-size: 14px; color: #6b7280; }
        .profile-section { margin-bottom: 24px; }
        .profile-section h3 { font-size: 12px; font-weight: 700; color: #9ca3af; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 12px; }
        .profile-field { background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 8px; padding: 12px 16px; margin-bottom: 12px; }
        .profile-field-label { font-size: 11px; color: #6b7280; margin-bottom: 4px; }
        .profile-field-value { font-size: 14px; color: #1f2937; font-weight: 500; }
        .profile-btn { width: 100%; background: #16a34a; color: white; border: none; padding: 14px; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; margin-bottom: 12px; }
        .profile-btn.secondary { background: white; color: #16a34a; border: 1px solid #16a34a; }
        .logout-btn { background: #ef4444; }
        
        /* Emergency Pages */
        .emergency-hero { padding: 24px 20px 60px; color: white; position: relative; }
        .emergency-hero.disaster { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
        .emergency-hero.police { background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); }
        .emergency-hero.fire { background: linear-gradient(135deg, #f97316 0%, #ea580c 100%); }
        .emergency-hero.ambulance { background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); }
        .back-btn { background: rgba(255,255,255,0.25); border: none; width: 40px; height: 40px; border-radius: 50%; color: white; font-size: 20px; cursor: pointer; margin-bottom: 16px; }
        .hero-title { font-size: 28px; font-weight: 700; margin-bottom: 4px; }
        .hero-subtitle { font-size: 14px; opacity: 0.95; }
        .emergency-content { background: white; border-radius: 20px 20px 0 0; margin-top: -40px; padding: 20px; position: relative; min-height: calc(100vh - 200px); }
        .hotline-card { background: white; border: 1px solid #e5e7eb; border-radius: 12px; padding: 20px; margin-bottom: 24px; }
        .hotline-label { font-size: 12px; color: #9ca3af; margin-bottom: 8px; }
        .hotline-number { display: flex; align-items: center; gap: 8px; font-size: 20px; font-weight: 700; color: #1f2937; margin-bottom: 12px; }
        .call-now-btn { background: #16a34a; color: white; border: none; padding: 10px 20px; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; display: inline-flex; align-items: center; gap: 6px; margin-bottom: 12px; }
        .hotline-desc { font-size: 13px; color: #6b7280; line-height: 1.5; }
        .what-to-do { margin-bottom: 24px; }
        .what-to-do h3 { font-size: 16px; font-weight: 600; color: #1f2937; margin-bottom: 12px; }
        .steps-list { list-style: none; padding: 0; }
        .steps-list li { padding: 8px 0; display: flex; align-items: flex-start; gap: 12px; font-size: 14px; color: #4b5563; }
        .step-number { background: #f0fdf4; color: #16a34a; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 12px; flex-shrink: 0; }
        .quick-report { margin-bottom: 80px; }
        .quick-report h3 { font-size: 16px; font-weight: 600; color: #1f2937; margin-bottom: 16px; }
        .form-label { font-size: 13px; color: #6b7280; margin-bottom: 8px; font-weight: 500; display: block; }
        .gps-warning { background: #fef3c7; border: 1px solid #fbbf24; border-radius: 8px; padding: 12px; display: flex; align-items: flex-start; gap: 10px; margin-bottom: 12px; font-size: 13px; color: #92400e; }
        .gps-warning-icon { font-size: 18px; flex-shrink: 0; }
        .gps-warning-content { flex: 1; }
        .gps-warning-content strong { display: block; font-weight: 600; margin-bottom: 2px; }
        .gps-warning-content small { font-size: 12px; }
        .retry-btn { background: none; border: none; color: #f97316; font-size: 12px; font-weight: 600; cursor: pointer; white-space: nowrap; }
        .location-input { width: 100%; padding: 12px; padding-left: 36px; border: 1px solid #e5e7eb; border-radius: 8px; font-size: 14px; margin-bottom: 20px; }
        .location-input-wrapper { position: relative; }
        .location-icon { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: #9ca3af; font-size: 16px; }
        .file-upload-section { margin-bottom: 20px; }
        .file-upload-label { font-size: 13px; color: #6b7280; margin-bottom: 8px; font-weight: 500; display: block; }
        .file-buttons { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 8px; }
        .file-btn { background: white; border: 1px solid #e5e7eb; padding: 12px; border-radius: 8px; font-size: 13px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 6px; }
        .file-upload-info { font-size: 11px; color: #9ca3af; }
        .textarea-field { width: 100%; padding: 12px; border: 1px solid #e5e7eb; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; min-height: 100px; margin-bottom: 16px; }
        .textarea-field::placeholder { color: #9ca3af; }
        .submit-btn { width: 100%; background: #16a34a; color: white; border: none; padding: 16px; border-radius: 10px; font-size: 16px; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; }
        .toast { position: fixed; bottom: 100px; right: 20px; background: #ef4444; color: white; padding: 16px 20px; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,0.2); z-index: 1000; max-width: 300px; animation: slideIn 0.3s ease-out; }
        @keyframes slideIn { from { transform: translateX(400px); } to { transform: translateX(0); } }
        .toast strong { display: block; font-weight: 600; margin-bottom: 4px; }
        .toast small { font-size: 12px; opacity: 0.95; }
        
        /* Modal */
        .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.6); z-index: 1000; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .modal { background: white; border-radius: 20px; width: 100%; max-width: 400px; max-height: 90vh; display: flex; flex-direction: column; animation: modalSlide 0.3s ease-out; overflow: hidden; }
        @keyframes modalSlide { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .modal-header { padding: 20px; border-bottom: 1px solid #e5e7eb; display: flex; justify-content: space-between; align-items: flex-start; }
        .modal-title-section h2 { font-size: 18px; font-weight: 600; color: #1f2937; margin-bottom: 4px; }
        .modal-title-section p { font-size: 13px; color: #6b7280; }
        .close-btn { background: #f3f4f6; border: none; width: 32px; height: 32px; border-radius: 50%; font-size: 20px; color: #6b7280; cursor: pointer; }
        .modal-content { flex: 1; overflow-y: auto; padding: 20px; }
        .modal-footer { padding: 20px; border-top: 1px solid #e5e7eb; display: flex; gap: 12px; }
        .all-depts-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
        .dept-modal-card { background: white; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px 12px; text-align: center; cursor: pointer; position: relative; transition: all 0.2s; }
        .dept-modal-card:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.1); transform: translateY(-2px); }
        .bookmark-icon { position: absolute; top: 10px; right: 10px; color: #d1d5db; font-size: 16px; }
        .dept-modal-icon { font-size: 32px; margin-bottom: 10px; }
        .dept-modal-name { font-size: 12px; color: #1f2937; font-weight: 500; line-height: 1.3; }
        
        /* Payment Form Elements */
        .form-group { margin-bottom: 20px; }
        .form-input { width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; }
        .form-input:focus { outline: none; border-color: #16a34a; }
        .reference-box { background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 8px; padding: 12px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .reference-label { font-size: 11px; color: #166534; font-weight: 600; text-transform: uppercase; }
        .reference-value { font-size: 14px; color: #166534; font-weight: 700; }
        .copy-icon { color: #16a34a; cursor: pointer; }
        .fee-row { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; }
        .fee-label { font-size: 14px; color: #6b7280; }
        .fee-value { font-size: 14px; color: #1f2937; font-weight: 600; }
        .total-row { border-top: 1px solid #e5e7eb; padding-top: 12px; margin-top: 8px; }
        .total-row .fee-label { font-weight: 600; color: #1f2937; }
        .total-row .fee-value { font-size: 18px; color: #16a34a; }
        .requirements-list { list-style: none; padding: 0; }
        .requirements-list li { padding: 6px 0; display: flex; align-items: center; gap: 8px; font-size: 13px; color: #4b5563; }
        .check-icon { color: #16a34a; }
        .btn { padding: 14px 24px; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; border: none; transition: all 0.2s; }
        .btn-primary { background: #16a34a; color: white; }
        .btn-primary:hover { background: #15803d; }
        .btn-secondary { background: white; color: #6b7280; border: 1px solid #d1d5db; }
        .btn-block { width: 100%; }
        .amount-to-pay-box { background: #d1fae5; border-radius: 12px; padding: 16px; text-align: center; margin-bottom: 20px; }
        .amount-to-pay-label { font-size: 12px; color: #065f46; margin-bottom: 4px; }
        .amount-to-pay-value { font-size: 28px; font-weight: 700; color: #065f46; }
        .payment-method-options { }
        .payment-method-option { background: white; border: 2px solid #e5e7eb; border-radius: 12px; padding: 16px; margin-bottom: 12px; display: flex; align-items: center; gap: 12px; cursor: pointer; transition: all 0.2s; }
        .payment-method-option:hover { border-color: #16a34a; }
        .payment-method-option.selected { border-color: #16a34a; background: #f0fdf4; }
        .payment-radio { width: 20px; height: 20px; border: 2px solid #d1d5db; border-radius: 50%; position: relative; flex-shrink: 0; }
        .payment-radio.selected { border-color: #16a34a; }
        .payment-radio.selected::after { content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 10px; height: 10px; background: #16a34a; border-radius: 50%; }
        .payment-method-icon-large { width: 40px; height: 40px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 20px; flex-shrink: 0; }
        .payment-method-info { flex: 1; }
        .payment-method-name { font-size: 15px; font-weight: 600; color: #1f2937; margin-bottom: 2px; }
        .payment-method-desc { font-size: 12px; color: #6b7280; }
        .qr-payment-box { text-align: center; }
        .qr-code-section { background: white; border: 2px solid #e5e7eb; border-radius: 12px; padding: 20px; margin: 20px 0; }
        .qr-code-label { font-size: 12px; color: #6b7280; margin-bottom: 12px; }
        .qr-code-canvas { width: 200px; height: 200px; margin: 0 auto; }
        .qr-code-merchant { font-size: 14px; font-weight: 600; color: #1f2937; margin: 16px 0 8px; }
        .qr-code-number { font-size: 16px; color: #16a34a; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 8px; }
        .instructions-box { background: #f9fafb; border-radius: 12px; padding: 16px; margin: 20px 0; text-align: left; }
        .instructions-title { font-size: 13px; font-weight: 600; color: #1f2937; margin-bottom: 12px; }
        .instructions-list { list-style: none; padding: 0; }
        .instructions-list li { padding: 6px 0; display: flex; align-items: flex-start; gap: 12px; font-size: 13px; color: #4b5563; }
        .instruction-number { background: #16a34a; color: white; width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 11px; font-weight: 700; flex-shrink: 0; }
        .warning-box { background: #fef3c7; border: 1px solid #fbbf24; border-radius: 8px; padding: 12px; display: flex; gap: 10px; margin: 20px 0; }
        .warning-icon { color: #f59e0b; font-size: 16px; }
        .warning-text { font-size: 12px; color: #92400e; line-height: 1.5; }
        .upload-area { border: 2px dashed #d1d5db; border-radius: 12px; padding: 40px 20px; text-align: center; cursor: pointer; margin: 20px 0; background: #f9fafb; }
        .upload-area:hover { border-color: #16a34a; background: #f0fdf4; }
        .upload-icon { font-size: 48px; color: #9ca3af; margin-bottom: 12px; }
        .upload-text { font-size: 14px; color: #6b7280; margin-bottom: 4px; }
        .upload-subtext { font-size: 12px; color: #9ca3af; }
        .info-box { background: #dbeafe; border: 1px solid #bfdbfe; border-radius: 8px; padding: 12px; display: flex; gap: 10px; margin: 20px 0; }
        .info-icon { color: #2563eb; font-size: 16px; }
        .info-text { font-size: 12px; color: #1e40af; line-height: 1.5; }
        .success-icon { width: 80px; height: 80px; border-radius: 50%; background: #16a34a; color: white; display: flex; align-items: center; justify-content: center; font-size: 48px; margin: 0 auto 20px; }
        .success-title { font-size: 24px; font-weight: 700; color: #1f2937; text-align: center; margin-bottom: 8px; }
        .success-subtitle { font-size: 14px; color: #6b7280; text-align: center; margin-bottom: 24px; }
        .success-details { background: #f9fafb; border-radius: 12px; padding: 16px; margin-bottom: 20px; }
        .success-detail-row { display: flex; justify-content: space-between; padding: 10px 0; }
        .success-detail-label { font-size: 13px; color: #6b7280; }
        .success-detail-value { font-size: 14px; color: #1f2937; font-weight: 600; }
        .status-badge { background: #fef3c7; color: #92400e; padding: 4px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 4px; }
        
        /* Bottom Nav */
        .bottom-nav { position: fixed; bottom: 0; left: 50%; transform: translateX(-50%); width: 100%; max-width: 430px; background: white; border-top: 1px solid #e5e7eb; display: flex; justify-content: space-around; padding: 8px 0 20px; box-shadow: 0 -2px 10px rgba(0,0,0,0.05); z-index: 100; }
        .nav-item { flex: 1; background: none; border: none; display: flex; flex-direction: column; align-items: center; gap: 4px; padding: 8px; cursor: pointer; color: #9ca3af; }
        .nav-item.active { color: #16a34a; }
        .nav-icon { font-size: 24px; }
        .nav-item.active .nav-icon { background: #16a34a; color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-top: -24px; box-shadow: 0 4px 12px rgba(22, 163, 74, 0.3); }
        .nav-label { font-size: 11px; font-weight: 600; }
        
        .chat-fab { position: fixed; bottom: 90px; right: 20px; width: 56px; height: 56px; border-radius: 50%; background: #16a34a; color: white; border: none; font-size: 24px; cursor: pointer; box-shadow: 0 4px 16px rgba(22, 163, 74, 0.4); z-index: 99; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useRef, useEffect } = React;

        const allDepartments = [
            { name: "Mayor's Office", icon: "" }, { name: "Vice Mayor's Office", icon: "" },
            { name: "City Health Office", icon: "" }, { name: "Social Welfare (CSWD)", icon: "" },
            { name: "Business Permits", icon: "" }, { name: "Barangay Services", icon: "" },
            { name: "Employment (PESO)", icon: "" }, { name: "Trade & Investment", icon: "" },
            { name: "Building Officials (OBO)", icon: "" }, { name: "Engineering Office", icon: "" },
            { name: "Equipment Pool (DEPO)", icon: "" }, { name: "City Planning", icon: "" },
            { name: "Housing Office", icon: "" }, { name: "City Water District", icon: "" },
            { name: "CEPALCO Liaison", icon: "" }, { name: "Human Resources", icon: "" },
            { name: "General Services", icon: "" }, { name: "City Library", icon: "" },
            { name: "Civil Registry", icon: "" }, { name: "Senior Citizens Affairs", icon: "" },
            { name: "PWD Affairs", icon: "" }, { name: "Youth Development", icon: "" },
            { name: "Tourism Office", icon: "" }, { name: "Sports Development", icon: "" },
            { name: "Culture & Arts", icon: "" }, { name: "Public Affairs", icon: "" },
            { name: "Veterinary Office", icon: "" }, { name: "Sanitation Office", icon: "" },
            { name: "Market Administration", icon: "" }, { name: "Transport Terminal", icon: "" },
            { name: "Slaughterhouse", icon: "" }, { name: "Cooperative Dev", icon: "" },
            { name: "Assessor's Office", icon: "" }, { name: "Scholarship Program", icon: "" },
            { name: "Community Development", icon: "" }, { name: "Traffic Management", icon: "" },
            { name: "Legal Office", icon: "" }, { name: "Accounting Office", icon: "" },
            { name: "City Treasurer", icon: "" }, { name: "Budget Office", icon: "" },
            { name: "Agriculture Office", icon: "" }, { name: "Special Projects", icon: "" },
            { name: "Environment (CLENRO)", icon: "" }, { name: "Information Office", icon: "" }
        ];

        const sampleNotifications = [
            { id: 1, type: 'success', icon: '', title: 'Payment Verified', message: 'Your property tax payment of 788,606 has been verified and processed.', time: '2 hours ago', unread: true },
            { id: 2, type: 'info', icon: '', title: 'Service Request Update', message: 'Your barangay clearance request is now ready for pickup.', time: '5 hours ago', unread: true },
            { id: 3, type: 'warning', icon: '', title: 'Document Expiring Soon', message: 'Your business permit will expire in 30 days. Renew now to avoid penalties.', time: '1 day ago', unread: false },
            { id: 4, type: 'info', icon: '', title: 'City Announcement', message: 'City Hall will be closed on January 15 for the Founding Anniversary celebration.', time: '2 days ago', unread: false },
            { id: 5, type: 'success', icon: '', title: 'Application Approved', message: 'Your building permit application has been approved. Visit OBO to claim.', time: '3 days ago', unread: false },
        ];

        function App() {
            const [currentPage, setCurrentPage] = useState('home');
            const [showModal, setShowModal] = useState(null);
            const [showNotifications, setShowNotifications] = useState(false);
            const [showMenu, setShowMenu] = useState(false);
            const [showToast, setShowToast] = useState(false);
            const [digitalIdView, setDigitalIdView] = useState(false);
            const [notifications, setNotifications] = useState(sampleNotifications);
            const [profileModal, setProfileModal] = useState(null);
            const [showSwal, setShowSwal] = useState(false);
            const [isLoggedIn, setIsLoggedIn] = useState(false);
            const [loginType, setLoginType] = useState(null); // 'user' or 'admin'
            const [showLogin, setShowLogin] = useState('landing'); // Start with landing page
            const [toastMessage, setToastMessage] = useState({ title: 'Location Error', message: 'Please enable GPS in your device settings and allow location access.' });
            const [paymentFlow, setPaymentFlow] = useState({
                category: null,
                taxType: null,
                amount: 0,
                paymentMethod: null,
                step: 'main'
            });

            const resetPaymentFlow = () => {
                setPaymentFlow({
                    category: null,
                    taxType: null,
                    amount: 0,
                    paymentMethod: null,
                    step: 'main'
                });
            };

            const showToastMessage = (title, message) => {
                setToastMessage({ title, message });
                setShowToast(true);
            };

            const handleLogin = (type) => {
                setIsLoggedIn(true);
                setLoginType(type);
                setShowLogin(null);
                showToastMessage('Login Successful', `Welcome ${type === 'admin' ? 'Super Admin' : 'User'}!`);
            };

            const handleLogout = () => {
                setIsLoggedIn(false);
                setLoginType(null);
                setShowLogin('landing'); // Return to landing page
                setCurrentPage('home');
                showToastMessage('Logged Out', 'You have been successfully logged out.');
            };

            // Global function for admin access from landing page
            React.useEffect(() => {
                window.showAdminLogin = () => setShowLogin('admin');
            }, []);

            const unreadCount = notifications.filter(n => n.unread).length;

            // Show login screen if not logged in
            if (!isLoggedIn) {
                if (showLogin === 'landing') {
                    return <LandingPage onLogin={() => setShowLogin('user')} onSignUp={() => alert('Sign up functionality coming soon!')} />;
                } else if (showLogin === 'user') {
                    return <UserLoginPage onLogin={() => handleLogin('user')} onBack={() => setShowLogin('landing')} onAdminAccess={() => setShowLogin('admin')} />;
                } else if (showLogin === 'admin') {
                    return <AdminLoginPage onLogin={() => handleLogin('admin')} onBack={() => setShowLogin('landing')} />;
                }
            }

            return (
                <>
                    {loginType === 'admin' ? (
                        <AdminDashboard onBack={handleLogout} showToast={showToastMessage} />
                    ) : (
                        <>
                            <Header 
                                onNotificationClick={() => setShowNotifications(!showNotifications)}
                                onMenuClick={() => setShowMenu(!showMenu)}
                                unreadCount={unreadCount}
                            />
                            {currentPage === 'home' && <HomePage onEmergency={setCurrentPage} onViewAll={() => setShowModal('departments')} showToast={showToastMessage} onShowAnnouncement={() => setShowSwal(true)} />}
                            {currentPage === 'myqr' && !digitalIdView && <MyQRPage onViewDigitalID={() => setDigitalIdView(true)} />}
                            {currentPage === 'myqr' && digitalIdView && <DigitalIDPage onBack={() => setDigitalIdView(false)} />}
                            {currentPage === 'pay' && <PaymentSystem flow={paymentFlow} setFlow={setPaymentFlow} resetFlow={resetPaymentFlow} />}
                            {currentPage === 'profile' && <ProfilePage onOpenModal={setProfileModal} showToast={showToastMessage} />}
                            {currentPage === 'disaster' && <DisasterPage onBack={() => setCurrentPage('home')} onShowToast={() => showToastMessage('Location Error', 'Please enable GPS in your device settings and allow location access.')} />}
                            {currentPage === 'police' && <PolicePage onBack={() => setCurrentPage('home')} onShowToast={() => showToastMessage('Location Error', 'Please enable GPS in your device settings and allow location access.')} />}
                            {currentPage === 'fire' && <FirePage onBack={() => setCurrentPage('home')} onShowToast={() => showToastMessage('Location Error', 'Please enable GPS in your device settings and allow location access.')} />}
                            {currentPage === 'ambulance' && <AmbulancePage onBack={() => setCurrentPage('home')} onShowToast={() => showToastMessage('Location Error', 'Please enable GPS in your device settings and allow location access.')} />}
                            {showModal === 'departments' && <DepartmentsModal onClose={() => setShowModal(null)} showToast={showToastMessage} />}
                            {showNotifications && (
                                <NotificationPanel 
                                    notifications={notifications}
                                    setNotifications={setNotifications}
                                    onClose={() => setShowNotifications(false)}
                                />
                            )}
                            {showMenu && <MenuDrawer onClose={() => setShowMenu(false)} setCurrentPage={setCurrentPage} setShowMenu={setShowMenu} showToast={showToastMessage} />}
                            {profileModal === 'edit' && <EditProfileModal onClose={() => setProfileModal(null)} showToast={showToastMessage} />}
                            {profileModal === 'password' && <ChangePasswordModal onClose={() => setProfileModal(null)} showToast={showToastMessage} />}
                            {profileModal === 'logout' && <LogoutModal onClose={() => setProfileModal(null)} onConfirm={handleLogout} />}
                            {showSwal && <SweetAlertModal onClose={() => setShowSwal(false)} />}
                            {showToast && <Toast message={toastMessage} onClose={() => setShowToast(false)} />}
                            <BottomNav currentPage={currentPage} setCurrentPage={setCurrentPage} setDigitalIdView={setDigitalIdView} resetPaymentFlow={resetPaymentFlow} />
                            <ChatFAB />
                        </>
                    )}
                </>
            );
        }

        // HomePage component
        function HomePage({ onEmergency, onViewAll, showToast, onShowAnnouncement }) {
            const handleDepartmentClick = (deptName) => {
                showToast('Department Selected', `Opening ${deptName}... Feature coming soon!`);
            };

            return (
                <div className="main-content">
                    <div className="greeting-section">
                        <div className="avatar">in</div>
                        <div className="greeting-text">
                            <div className="greeting-title">Maayong Adlaw, inan!</div>
                            <div className="greeting-subtitle">Access city services quickly and easily.</div>
                        </div>
                    </div>
                    <div className="search-bar">
                        <span className="search-icon"></span>
                        <input type="text" className="search-input" placeholder="Search services..." />
                    </div>
                    <div className="section-label">QUICK INCIDENT REPORT</div>
                    <div className="incident-buttons">
                        <button className="incident-btn" onClick={() => onEmergency('ambulance')}>
                            <span className="incident-icon"></span>
                            <span className="incident-label">Ambulance</span>
                        </button>
                        <button className="incident-btn fire" onClick={() => onEmergency('fire')}>
                            <span className="incident-icon"></span>
                            <span className="incident-label">Fire</span>
                        </button>
                        <button className="incident-btn police" onClick={() => onEmergency('police')}>
                            <span className="incident-icon"></span>
                            <span className="incident-label">Police</span>
                        </button>
                        <button className="incident-btn disaster" onClick={() => onEmergency('disaster')}>
                            <span className="incident-icon"></span>
                            <span className="incident-label">Disaster</span>
                        </button>
                    </div>
                    <div className="section-header">
                        <div className="section-title"><span></span><span>FAVORITE DEPARTMENTS</span></div>
                        <button className="view-all-link" onClick={onViewAll}>View All Depts </button>
                    </div>
                    <div className="departments-grid">
                        <div className="dept-card" onClick={() => handleDepartmentClick("Vice Mayor's Office")}><div className="dept-icon" style={{color: '#6b7280'}}></div><div className="dept-name">Vice Mayor's Office</div></div>
                        <div className="dept-card" onClick={() => handleDepartmentClick("Business Permits")}><div className="dept-icon" style={{color: '#f97316'}}></div><div className="dept-name">Business Permits</div></div>
                        <div className="dept-card" onClick={() => handleDepartmentClick("Employment (PESO)")}><div className="dept-icon" style={{color: '#f97316'}}></div><div className="dept-name">Employment (PESO)</div></div>
                        <div className="dept-card" onClick={() => handleDepartmentClick("Trade & Investment")}><div className="dept-icon" style={{color: '#14b8a6'}}></div><div className="dept-name">Trade & Investment</div></div>
                        <div className="dept-card" onClick={() => handleDepartmentClick("Housing Office")}><div className="dept-icon" style={{color: '#f59e0b'}}></div><div className="dept-name">Housing Office</div></div>
                        <div className="dept-card" onClick={() => handleDepartmentClick("City Health Office")}><div className="dept-icon" style={{color: '#ec4899'}}></div><div className="dept-name">City Health Office</div></div>
                    </div>
                    <div className="section-label">CITY UPDATES</div>
                    <div className="updates-card" onClick={onShowAnnouncement} style={{cursor: 'pointer'}}>
                        <div className="announcement-badge">ANNOUNCEMENT</div>
                        <div className="update-title">Tax Payment Deadline</div>
                        <div className="update-text">Deadline for Q1 business taxes extended until March 31, 2026.</div>
                    </div>
                </div>
            );
        }

        function DepartmentsModal({ onClose, showToast }) {
            const handleDepartmentClick = (deptName) => {
                onClose();
                showToast('Department Selected', `Opening ${deptName}... Feature coming soon!`);
            };

            return (
                <div className="modal-overlay" onClick={onClose}>
                    <div className="modal" onClick={e => e.stopPropagation()}>
                        <div className="modal-header">
                            <div className="modal-title-section">
                                <h2>All Departments</h2>
                                <p>44 city offices and services</p>
                            </div>
                            <button className="close-btn" onClick={onClose}></button>
                        </div>
                        <div className="modal-content">
                            <div className="all-depts-grid">
                                {allDepartments.map((dept, i) => (
                                    <div key={i} className="dept-modal-card" onClick={() => handleDepartmentClick(dept.name)}>
                                        <span className="bookmark-icon"></span>
                                        <div className="dept-modal-icon">{dept.icon}</div>
                                        <div className="dept-modal-name">{dept.name}</div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        function MyQRPage({ onViewDigitalID }) {
            const canvasRef = useRef(null);
            useEffect(() => {
                if (canvasRef.current && window.QRCode) {
                    QRCode.toCanvas(canvasRef.current, 'AA-00001', { width: 240, margin: 0 });
                }
            }, []);

            return (
                <div className="qr-page">
                    <h1>My QR Code</h1>
                    <p className="qr-subtitle">Your unique resident identification</p>
                    <div className="qr-container">
                        <canvas ref={canvasRef} className="qr-canvas"></canvas>
                        <div className="resident-id-section">
                            <div className="id-label">Resident ID</div>
                            <div className="id-value">AA-00001</div>
                        </div>
                    </div>
                    <button className="view-digital-btn" onClick={onViewDigitalID}>
                        <span></span> View Digital ID
                    </button>
                    <p className="qr-info-text">Show this QR code at city offices for faster service</p>
                    <div className="user-info">inan nani<br/>nani@yahoo.com</div>
                </div>
            );
        }

        function DigitalIDPage({ onBack }) {
            return (
                <div className="digital-id-page">
                    <button className="back-button" onClick={onBack}><span></span> Back</button>
                    <h1 className="page-title"><span></span> Official Digital ID</h1>
                    <div className="id-card">
                        <div className="id-header">
                            <div className="seal"><div className="seal-inner">CDO</div></div>
                            <div className="id-header-text">
                                <div className="republic-text">Republic of the Philippines</div>
                                <div className="city-name">CITY OF CAGAYAN DE ORO</div>
                                <div className="program-name">RISE CdeO</div>
                            </div>
                        </div>
                        <div className="id-number">1225AA-00001</div>
                        <div className="cardholder-section">
                            <div className="field-label">Cardholder</div>
                            <div className="field-value">IAN NANI</div>
                        </div>
                        <div className="id-footer">
                            <div className="id-footer-item">
                                <div className="field-label">Barangay</div>
                                <div className="field-value" style={{fontSize: '14px'}}>N/A</div>
                            </div>
                            <div className="id-footer-item">
                                <div className="field-label">Issued</div>
                                <div className="field-value" style={{fontSize: '14px'}}>JAN-2026</div>
                            </div>
                        </div>
                    </div>
                    <div className="id-card-back">
                        <div className="signature-strip"></div>
                        <div className="signature-section">
                            <div>
                                <div className="field-label">Authorized Signature</div>
                                <div className="signature">inan nani</div>
                            </div>
                            <div style={{textAlign: 'right'}}>
                                <div className="field-label">CVC</div>
                                <div className="cvc">***</div>
                            </div>
                        </div>
                        <div className="qr-and-text">
                            <svg className="qr-small" viewBox="0 0 100 100">
                                <rect width="100" height="100" fill="#000"/>
                                <rect x="10" y="10" width="15" height="15" fill="#fff"/>
                                <rect x="75" y="10" width="15" height="15" fill="#fff"/>
                                <rect x="10" y="75" width="15" height="15" fill="#fff"/>
                                <rect x="75" y="75" width="15" height="15" fill="#fff"/>
                            </svg>
                            <div className="issuer-info">
                                <strong>Cagayan de Oro City Government</strong>
                                This Digital ID is issued under the RISE CdeO Program. Present this card for city services and transactions.
                            </div>
                        </div>
                    </div>
                    <div className="security-notice">
                        <span className="security-notice-icon"></span>
                        <div className="security-notice-text">
                            <strong>Secured Digital ID</strong>
                            <small style={{display: 'block', fontSize: '12px', lineHeight: '1.5'}}>This official digital identification is valid for all city government services, programs, and transactions within Cagayan de Oro.</small>
                        </div>
                    </div>
                </div>
            );
        }

        function LandingPage({ onLogin, onSignUp }) {
            const [clickCount, setClickCount] = useState(0);
            const [showHint, setShowHint] = useState(false);

            const handleLogoClick = () => {
                const newCount = clickCount + 1;
                setClickCount(newCount);

                // Show hint after 3 clicks
                if (newCount === 3) {
                    setShowHint(true);
                    setTimeout(() => setShowHint(false), 2000);
                }

                // Open admin login after 7 clicks
                if (newCount >= 7) {
                    setClickCount(0);
                    setShowHint(false);
                    // Navigate to admin login
                    window.showAdminLogin && window.showAdminLogin();
                }

                // Reset after 3 seconds of no clicks
                setTimeout(() => {
                    setClickCount(0);
                    setShowHint(false);
                }, 3000);
            };

            return (
                <div className="login-container">
                    <div className="login-card">
                        <div className="login-header">
                            <div className="logo-container">
                                <img 
                                    src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 280 80'%3E%3Ctext x='10' y='25' font-family='Arial Black' font-size='20' font-weight='bold' fill='%23fbbf24'%3ECdeO%3C/text%3E%3Ctext x='10' y='55' font-family='Arial Black' font-size='32' font-weight='bold'%3E%3Ctspan fill='%23166534'%3ER%3C/tspan%3E%3Ctspan fill='%230ea5e9'%3EI%3C/tspan%3E%3Ctspan fill='%23f59e0b'%3ES%3C/tspan%3E%3Ctspan fill='%23ef4444'%3EE%3C/tspan%3E%3C/text%3E%3Crect x='125' y='10' width='4' height='50' fill='%2316a34a'/%3E%3Crect x='135' y='15' width='10' height='10' fill='%23fbbf24' rx='2'/%3E%3Crect x='150' y='15' width='10' height='10' fill='%230ea5e9' rx='2'/%3E%3Crect x='135' y='30' width='10' height='10' fill='%23ef4444' rx='2'/%3E%3Crect x='150' y='30' width='10' height='10' fill='%2316a34a' rx='2'/%3E%3Crect x='135' y='45' width='10' height='10' fill='%239333ea' rx='2'/%3E%3Crect x='150' y='45' width='10' height='10' fill='%23f59e0b' rx='2'/%3E%3Ctext x='10' y='72' font-family='Arial' font-size='8' fill='%236b7280'%3ERESIDENT INFORMATION SYSTEM %26 E-GOVERNMENT PLATFORM%3C/text%3E%3C/svg%3E"
                                    alt="RISE CdeO Logo" 
                                    className="login-logo-colorful"
                                    onClick={handleLogoClick}
                                    style={{
                                        animation: clickCount > 3 ? 'pulse 0.5s infinite' : 'none'
                                    }}
                                />
                                <img 
                                    src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='48' fill='white' stroke='%23dc2626' stroke-width='2'/%3E%3Ccircle cx='50' cy='50' r='40' fill='%230369a1'/%3E%3Cpath d='M30 50 L50 30 L70 50 L50 70 Z' fill='%23fbbf24'/%3E%3Ccircle cx='50' cy='50' r='15' fill='%23dc2626'/%3E%3Ctext x='50' y='55' text-anchor='middle' font-family='Arial' font-size='10' font-weight='bold' fill='white'%3ECdeO%3C/text%3E%3C/svg%3E"
                                    alt="CdeO Seal"
                                    className="cdeo-seal"
                                />
                            </div>
                            {showHint && (
                                <div style={{
                                    position: 'absolute',
                                    top: '120px',
                                    left: '50%',
                                    transform: 'translateX(-50%)',
                                    background: 'rgba(0,0,0,0.7)',
                                    color: 'white',
                                    padding: '8px 16px',
                                    borderRadius: '8px',
                                    fontSize: '12px',
                                    zIndex: 10,
                                    whiteSpace: 'nowrap'
                                }}>
                                    {clickCount}/7 clicks for admin access 
                                </div>
                            )}
                            <h1 className="login-title">Welcome to RISE CdeO</h1>
                            <p className="login-subtitle">Resident Information System & E-Services<br/>for Cagayan de Oro City</p>
                        </div>
                        <div className="login-content">
                            <div className="feature-grid">
                                <div className="feature-card">
                                    <div className="feature-icon"></div>
                                    <div className="feature-text">40+ Departments</div>
                                </div>
                                <div className="feature-card">
                                    <div className="feature-icon"></div>
                                    <div className="feature-text">Secure Access</div>
                                </div>
                                <div className="feature-card">
                                    <div className="feature-icon"></div>
                                    <div className="feature-text">Track Requests</div>
                                </div>
                                <div className="feature-card">
                                    <div className="feature-icon"></div>
                                    <div className="feature-text">Easy & Fast</div>
                                </div>
                            </div>
                            <button className="login-button" onClick={onLogin}>Log In</button>
                            <button className="login-button-outline" onClick={onSignUp}>Create Account</button>
                            <div className="login-footer">
                                <p className="login-footer-text">Access all city services with your account</p>
                                <p className="login-footer-text" style={{marginTop: '16px', fontSize: '11px'}}>
                                    City Government of Cagayan de Oro<br/>
                                    Mayor Rolando Klarex V. Governance Platform
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        function LoginChoice({ onSelectUser, onSelectAdmin }) {
            const [clickCount, setClickCount] = useState(0);
            const [showHint, setShowHint] = useState(false);

            const handleLogoClick = () => {
                const newCount = clickCount + 1;
                setClickCount(newCount);

                // Show hint after 3 clicks
                if (newCount === 3) {
                    setShowHint(true);
                    setTimeout(() => setShowHint(false), 2000);
                }

                // Open admin login after 7 clicks
                if (newCount >= 7) {
                    setClickCount(0);
                    setShowHint(false);
                    onSelectAdmin();
                }

                // Reset after 3 seconds of no clicks
                setTimeout(() => {
                    setClickCount(0);
                }, 3000);
            };

            return (
                <div className="login-container">
                    <div className="login-header">
                        <div 
                            className="login-logo" 
                            onClick={handleLogoClick}
                            style={{
                                cursor: 'pointer',
                                transition: 'transform 0.2s',
                                transform: clickCount > 0 ? 'scale(1.1)' : 'scale(1)',
                                animation: clickCount > 3 ? 'pulse 0.5s infinite' : 'none'
                            }}
                        >
                            RISE
                        </div>
                        {showHint && (
                            <div style={{
                                position: 'absolute',
                                top: '140px',
                                left: '50%',
                                transform: 'translateX(-50%)',
                                background: 'rgba(0,0,0,0.7)',
                                color: 'white',
                                padding: '8px 16px',
                                borderRadius: '8px',
                                fontSize: '12px',
                                animation: 'fadeIn 0.3s'
                            }}>
                                {clickCount}/7 clicks for admin access 
                            </div>
                        )}
                        <h1 className="login-title">RISE CdeO</h1>
                        <p className="login-subtitle">Cagayan de Oro City</p>
                    </div>
                    <div className="login-content">
                        <div className="login-welcome">
                            <h2>Welcome Back!</h2>
                            <p>Sign in to access city services</p>
                        </div>
                        <div className="login-form">
                            <button className="login-button" onClick={onSelectUser}>
                                <span style={{fontSize: '20px'}}></span>
                                <span>Login as Resident</span>
                            </button>
                        </div>
                        <div className="login-footer">
                            <p className="login-footer-text">
                                Don't have an account? <a href="#" className="login-footer-link">Register here</a>
                            </p>
                        </div>
                    </div>
                </div>
            );
        }

        function UserLoginPage({ onLogin, onBack, onAdminAccess }) {
            const [credentials, setCredentials] = useState({ phone: '', password: '' });
            const [showPassword, setShowPassword] = useState(false);
            const [clickCount, setClickCount] = useState(0);
            const [showHint, setShowHint] = useState(false);

            const handleLogoClick = () => {
                const newCount = clickCount + 1;
                setClickCount(newCount);

                // Show hint after 3 clicks
                if (newCount === 3) {
                    setShowHint(true);
                    setTimeout(() => setShowHint(false), 2000);
                }

                // Open admin login after 7 clicks
                if (newCount >= 7) {
                    setClickCount(0);
                    setShowHint(false);
                    onAdminAccess();
                }

                // Reset after 3 seconds of no clicks
                setTimeout(() => {
                    setClickCount(0);
                    setShowHint(false);
                }, 3000);
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                onLogin();
            };

            return (
                <div className="login-container">
                    <div className="login-card">
                        <button className="back-button" onClick={onBack}> Back</button>
                        <div className="login-header">
                            <img 
                                src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 280 80'%3E%3Ctext x='10' y='25' font-family='Arial Black' font-size='20' font-weight='bold' fill='%23fbbf24'%3ECdeO%3C/text%3E%3Ctext x='10' y='55' font-family='Arial Black' font-size='32' font-weight='bold'%3E%3Ctspan fill='%23166534'%3ER%3C/tspan%3E%3Ctspan fill='%230ea5e9'%3EI%3C/tspan%3E%3Ctspan fill='%23f59e0b'%3ES%3C/tspan%3E%3Ctspan fill='%23ef4444'%3EE%3C/tspan%3E%3C/text%3E%3Crect x='125' y='10' width='4' height='50' fill='%2316a34a'/%3E%3Crect x='135' y='15' width='10' height='10' fill='%23fbbf24' rx='2'/%3E%3Crect x='150' y='15' width='10' height='10' fill='%230ea5e9' rx='2'/%3E%3Crect x='135' y='30' width='10' height='10' fill='%23ef4444' rx='2'/%3E%3Crect x='150' y='30' width='10' height='10' fill='%2316a34a' rx='2'/%3E%3Crect x='135' y='45' width='10' height='10' fill='%239333ea' rx='2'/%3E%3Crect x='150' y='45' width='10' height='10' fill='%23f59e0b' rx='2'/%3E%3Ctext x='10' y='72' font-family='Arial' font-size='8' fill='%236b7280'%3ERESIDENT INFORMATION SYSTEM %26 E-GOVERNMENT PLATFORM%3C/text%3E%3C/svg%3E"
                                alt="RISE CdeO Logo" 
                                className="login-logo-colorful"
                                onClick={handleLogoClick}
                                style={{
                                    animation: clickCount > 3 ? 'pulse 0.5s infinite' : 'none'
                                }}
                            />
                            {showHint && (
                                <div style={{
                                    position: 'absolute',
                                    top: '140px',
                                    left: '50%',
                                    transform: 'translateX(-50%)',
                                    background: 'rgba(0,0,0,0.7)',
                                    color: 'white',
                                    padding: '8px 16px',
                                    borderRadius: '8px',
                                    fontSize: '12px',
                                    zIndex: 10,
                                    whiteSpace: 'nowrap'
                                }}>
                                    {clickCount}/7 clicks for admin access 
                                </div>
                            )}
                        </div>
                        <div className="login-content">
                            <div className="login-welcome">
                                <h2>Welcome Back</h2>
                                <p>Sign in with your phone number</p>
                            </div>
                            <form className="login-form" onSubmit={handleSubmit}>
                                <div className="login-input-group">
                                    <label className="login-input-label">Phone Number</label>
                                    <div className="login-input-wrapper">
                                        <span className="login-input-icon"></span>
                                        <input 
                                            type="tel" 
                                            className="login-input" 
                                            placeholder="09XX XXX XXXX"
                                            value={credentials.phone}
                                            onChange={(e) => setCredentials({...credentials, phone: e.target.value})}
                                            required
                                        />
                                    </div>
                                </div>
                                <div className="login-input-group">
                                    <label className="login-input-label">Password</label>
                                    <div className="login-input-wrapper">
                                        <span className="login-input-icon"></span>
                                        <input 
                                            type={showPassword ? 'text' : 'password'}
                                            className="login-input" 
                                            placeholder="Enter your password"
                                            value={credentials.password}
                                            onChange={(e) => setCredentials({...credentials, password: e.target.value})}
                                            required
                                        />
                                        <span className="password-toggle" onClick={() => setShowPassword(!showPassword)}>
                                            {showPassword ? '' : ''}
                                        </span>
                                    </div>
                                </div>
                                <div className="login-forgot">
                                    <a href="#">Forgot Password?</a>
                                </div>
                                <button type="submit" className="login-button">Sign In</button>
                            </form>
                            <div className="login-footer">
                                <p className="login-footer-text">
                                    Don't have an account? <a href="#" className="login-footer-link">Sign Up</a>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        function AdminLoginPage({ onLogin, onBack }) {
            const [credentials, setCredentials] = useState({ username: '', password: '' });
            const [showPassword, setShowPassword] = useState(false);

            const handleSubmit = (e) => {
                e.preventDefault();
                onLogin();
            };

            return (
                <div className="login-container">
                    <div className="login-card">
                        <button className="back-button" onClick={onBack}> Back</button>
                        <div className="login-header">
                            <img 
                                src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 280 80'%3E%3Ctext x='10' y='25' font-family='Arial Black' font-size='20' font-weight='bold' fill='%23fbbf24'%3ECdeO%3C/text%3E%3Ctext x='10' y='55' font-family='Arial Black' font-size='32' font-weight='bold'%3E%3Ctspan fill='%23166534'%3ER%3C/tspan%3E%3Ctspan fill='%230ea5e9'%3EI%3C/tspan%3E%3Ctspan fill='%23f59e0b'%3ES%3C/tspan%3E%3Ctspan fill='%23ef4444'%3EE%3C/tspan%3E%3C/text%3E%3Crect x='125' y='10' width='4' height='50' fill='%2316a34a'/%3E%3Crect x='135' y='15' width='10' height='10' fill='%23fbbf24' rx='2'/%3E%3Crect x='150' y='15' width='10' height='10' fill='%230ea5e9' rx='2'/%3E%3Crect x='135' y='30' width='10' height='10' fill='%23ef4444' rx='2'/%3E%3Crect x='150' y='30' width='10' height='10' fill='%2316a34a' rx='2'/%3E%3Crect x='135' y='45' width='10' height='10' fill='%239333ea' rx='2'/%3E%3Crect x='150' y='45' width='10' height='10' fill='%23f59e0b' rx='2'/%3E%3Ctext x='10' y='72' font-family='Arial' font-size='8' fill='%236b7280'%3ERESIDENT INFORMATION SYSTEM %26 E-GOVERNMENT PLATFORM%3C/text%3E%3C/svg%3E"
                                alt="RISE CdeO Logo" 
                                className="login-logo-colorful"
                            />
                        </div>
                        <div className="login-content">
                            <div className="login-welcome">
                                <span className="admin-badge"> ADMIN ACCESS</span>
                                <h2>Admin Login</h2>
                                <p>Authorized personnel only</p>
                            </div>
                            <form className="login-form" onSubmit={handleSubmit}>
                                <div className="login-input-group">
                                    <label className="login-input-label">Admin Username</label>
                                    <div className="login-input-wrapper">
                                        <span className="login-input-icon"></span>
                                        <input 
                                            type="text" 
                                            className="login-input" 
                                            placeholder="Enter admin username"
                                            value={credentials.username}
                                            onChange={(e) => setCredentials({...credentials, username: e.target.value})}
                                            required
                                        />
                                    </div>
                                </div>
                                <div className="login-input-group">
                                    <label className="login-input-label">Password</label>
                                    <div className="login-input-wrapper">
                                        <span className="login-input-icon"></span>
                                        <input 
                                            type={showPassword ? 'text' : 'password'}
                                            className="login-input" 
                                            placeholder="Enter admin password"
                                            value={credentials.password}
                                            onChange={(e) => setCredentials({...credentials, password: e.target.value})}
                                            required
                                        />
                                        <span className="password-toggle" onClick={() => setShowPassword(!showPassword)}>
                                            {showPassword ? '' : ''}
                                        </span>
                                    </div>
                                </div>
                                <div className="login-forgot">
                                    <a href="#">Contact IT Support</a>
                                </div>
                                <button type="submit" className="login-button">
                                    Secure Login 
                                </button>
                                <div style={{background: '#fef3c7', border: '1px solid #fbbf24', borderRadius: '8px', padding: '12px', marginTop: '16px', fontSize: '12px', color: '#92400e', lineHeight: '1.5'}}>
                                    <strong style={{display: 'block', marginBottom: '4px'}}> Security Notice</strong>
                                    All admin login attempts are monitored and logged for security purposes.
                                </div>
                            </form>
                            <div className="login-footer">
                                <p className="login-footer-text" style={{fontSize: '12px', marginTop: '16px'}}>
                                    RISE CdeO Admin Portal v1.0.0
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        function AdminDashboard({ onBack, showToast }) {
            const [activeTab, setActiveTab] = useState('emergency');
            const [showModal, setShowModal] = useState(null);

            const tabs = [
                { id: 'emergency', icon: '', label: 'Emergency' },
                { id: 'payments', icon: '', label: 'Payments' },
                { id: 'messages', icon: '', label: 'Messages' },
                { id: 'scanner', icon: '', label: 'Scanner' },
                { id: 'sync', icon: '', label: 'Sync' },
                { id: 'analytics', icon: '', label: 'Analytics' },
                { id: 'users', icon: '', label: 'Users' },
                { id: 'admins', icon: '', label: 'Admins' }
            ];

            const emergencyTypes = [
                { id: 'ambulance', icon: '', label: 'Ambulance' },
                { id: 'fire', icon: '', label: 'Fire' },
                { id: 'police', icon: '', label: 'Police' },
                { id: 'disaster', icon: '', label: 'Disaster' }
            ];

            const handleTabClick = (tabId) => {
                setActiveTab(tabId);
                setShowModal(tabId);
            };

            const handleEmergencyClick = (type) => {
                setShowModal(type);
            };

            return (
                <div className="admin-dashboard">
                    {/* Header */}
                    <div className="admin-header">
                        <div className="admin-logo-section">
                            <div className="admin-logo-box">
                                <div className="admin-logo-icon">
                                    <svg viewBox="0 0 24 24" width="24" height="24">
                                        <rect x="2" y="2" width="8" height="8" fill="#fbbf24" rx="1"/>
                                        <rect x="12" y="2" width="8" height="8" fill="#0ea5e9" rx="1"/>
                                        <rect x="2" y="12" width="8" height="8" fill="#ef4444" rx="1"/>
                                        <rect x="12" y="12" width="8" height="8" fill="#16a34a" rx="1"/>
                                    </svg>
                                </div>
                                <div className="admin-logo-text">
                                    <span className="green">R</span><span className="blue">I</span><span className="yellow">S</span><span className="red">E</span>
                                </div>
                            </div>
                            <div className="admin-title-section">
                                <div className="admin-title-main">RISE CdeO</div>
                                <div className="admin-title-sub">CAGAYAN DE ORO CITY</div>
                            </div>
                        </div>
                        <div className="admin-header-icons">
                            <div className="admin-header-icon"></div>
                            <div className="admin-header-icon"></div>
                        </div>
                    </div>

                    {/* Red Banner */}
                    <div className="admin-banner">
                        <div className="admin-banner-left">
                            <button className="admin-back-btn" onClick={onBack}></button>
                            <div className="admin-banner-text">
                                <h2>Admin Dashboard</h2>
                                <p>Emergency & User Management</p>
                            </div>
                        </div>
                        <div className="admin-banner-right">
                            <button className="admin-refresh-btn" onClick={() => showToast('Refreshed', 'Dashboard data has been refreshed')}></button>
                            <img 
                                src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='48' fill='white' stroke='%23dc2626' stroke-width='2'/%3E%3Ccircle cx='50' cy='50' r='40' fill='%230369a1'/%3E%3Cpath d='M30 50 L50 30 L70 50 L50 70 Z' fill='%23fbbf24'/%3E%3Ccircle cx='50' cy='50' r='15' fill='%23dc2626'/%3E%3Ctext x='50' y='55' text-anchor='middle' font-family='Arial' font-size='10' font-weight='bold' fill='white'%3ECdeO%3C/text%3E%3C/svg%3E"
                                alt="CDO Seal"
                                className="admin-seal"
                            />
                        </div>
                    </div>

                    {/* Tabs */}
                    <div className="admin-tabs">
                        {tabs.map(tab => (
                            <button
                                key={tab.id}
                                className={`admin-tab ${activeTab === tab.id ? 'active' : ''}`}
                                onClick={() => handleTabClick(tab.id)}
                            >
                                <span>{tab.icon}</span>
                                <span>{tab.label}</span>
                            </button>
                        ))}
                    </div>

                    {/* Content */}
                    <div className="admin-content">
                        {/* Stats */}
                        <div className="admin-stats-grid">
                            <div className="admin-stat-card pink">
                                <div className="admin-stat-number red">0</div>
                                <div className="admin-stat-label">Active Incidents (Today)</div>
                            </div>
                            <div className="admin-stat-card green">
                                <div className="admin-stat-number green">0</div>
                                <div className="admin-stat-label">Resolved (Today)</div>
                            </div>
                        </div>

                        {/* Emergency Cards */}
                        <div className="admin-emergency-grid">
                            {emergencyTypes.map(type => (
                                <div
                                    key={type.id}
                                    className="admin-emergency-card"
                                    onClick={() => handleEmergencyClick(type.id)}
                                >
                                    <div className="admin-emergency-icon">{type.icon}</div>
                                    <div className="admin-emergency-label">{type.label}</div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Modals */}
                    {showModal === 'emergency' && (
                        <AdminModal 
                            title="Emergency Management"
                            icon=""
                            onClose={() => setShowModal(null)}
                        >
                            <p style={{marginBottom: '16px', color: '#6b7280'}}>Monitor and manage all emergency incidents in real-time.</p>
                            <div style={{background: '#fef3c7', padding: '12px', borderRadius: '8px', marginBottom: '12px'}}>
                                <strong> Statistics</strong><br/>
                                 Active Incidents: 0<br/>
                                 Pending Response: 0<br/>
                                 Resolved Today: 0
                            </div>
                            <div style={{background: '#dbeafe', padding: '12px', borderRadius: '8px'}}>
                                <strong> Quick Actions</strong><br/>
                                 View All Incidents<br/>
                                 Dispatch Emergency Units<br/>
                                 Generate Reports
                            </div>
                        </AdminModal>
                    )}

                    {showModal === 'payments' && (
                        <AdminModal 
                            title="Payment Management"
                            icon=""
                            onClose={() => setShowModal(null)}
                        >
                            <p style={{marginBottom: '16px', color: '#6b7280'}}>Track and manage all payment transactions.</p>
                            <div style={{background: '#d1fae5', padding: '12px', borderRadius: '8px', marginBottom: '12px'}}>
                                <strong> Today's Summary</strong><br/>
                                 Total Transactions: 0.00<br/>
                                 Pending Payments: 0<br/>
                                 Completed: 0
                            </div>
                            <button style={{width: '100%', background: '#16a34a', color: 'white', border: 'none', padding: '12px', borderRadius: '8px', fontWeight: '600', cursor: 'pointer'}}>
                                View All Transactions
                            </button>
                        </AdminModal>
                    )}

                    {showModal === 'messages' && (
                        <AdminModal 
                            title="Message Center"
                            icon=""
                            onClose={() => setShowModal(null)}
                        >
                            <p style={{marginBottom: '16px', color: '#6b7280'}}>Send announcements and manage communications.</p>
                            <div style={{background: '#fce7f3', padding: '12px', borderRadius: '8px', marginBottom: '12px'}}>
                                <strong> Inbox</strong><br/>
                                 Unread Messages: 0<br/>
                                 Total Conversations: 0
                            </div>
                            <button style={{width: '100%', background: '#16a34a', color: 'white', border: 'none', padding: '12px', borderRadius: '8px', fontWeight: '600', cursor: 'pointer', marginBottom: '8px'}}>
                                Compose Message
                            </button>
                            <button style={{width: '100%', background: 'white', color: '#16a34a', border: '1px solid #16a34a', padding: '12px', borderRadius: '8px', fontWeight: '600', cursor: 'pointer'}}>
                                Send Announcement
                            </button>
                        </AdminModal>
                    )}

                    {showModal === 'scanner' && (
                        <AdminModal 
                            title="QR Scanner"
                            icon=""
                            onClose={() => setShowModal(null)}
                        >
                            <p style={{marginBottom: '16px', color: '#6b7280'}}>Scan resident QR codes for verification.</p>
                            <div style={{background: '#f3f4f6', padding: '40px', borderRadius: '12px', textAlign: 'center', marginBottom: '16px', border: '2px dashed #d1d5db'}}>
                                <div style={{fontSize: '64px', marginBottom: '8px'}}></div>
                                <div style={{color: '#9ca3af'}}>Camera access required</div>
                            </div>
                            <button style={{width: '100%', background: '#16a34a', color: 'white', border: 'none', padding: '12px', borderRadius: '8px', fontWeight: '600', cursor: 'pointer'}}>
                                Activate Scanner
                            </button>
                        </AdminModal>
                    )}

                    {showModal === 'sync' && (
                        <AdminModal 
                            title="Data Synchronization"
                            icon=""
                            onClose={() => setShowModal(null)}
                        >
                            <p style={{marginBottom: '16px', color: '#6b7280'}}>Sync data across all city departments.</p>
                            <div style={{background: '#dbeafe', padding: '12px', borderRadius: '8px', marginBottom: '12px'}}>
                                <strong> Last Sync</strong><br/>
                                 Status: Up to date<br/>
                                 Time: Just now<br/>
                                 Records: 0 updated
                            </div>
                            <button style={{width: '100%', background: '#16a34a', color: 'white', border: 'none', padding: '12px', borderRadius: '8px', fontWeight: '600', cursor: 'pointer'}}>
                                Force Sync Now
                            </button>
                        </AdminModal>
                    )}

                    {showModal === 'analytics' && (
                        <AdminModal 
                            title="Analytics Dashboard"
                            icon=""
                            onClose={() => setShowModal(null)}
                        >
                            <p style={{marginBottom: '16px', color: '#6b7280'}}>View comprehensive analytics and reports.</p>
                            <div style={{display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '12px', marginBottom: '16px'}}>
                                <div style={{background: '#fef3c7', padding: '16px', borderRadius: '8px', textAlign: 'center'}}>
                                    <div style={{fontSize: '24px', fontWeight: '700', color: '#92400e'}}>0</div>
                                    <div style={{fontSize: '12px', color: '#78350f'}}>Total Users</div>
                                </div>
                                <div style={{background: '#dbeafe', padding: '16px', borderRadius: '8px', textAlign: 'center'}}>
                                    <div style={{fontSize: '24px', fontWeight: '700', color: '#1e40af'}}>0</div>
                                    <div style={{fontSize: '12px', color: '#1e3a8a'}}>Active Sessions</div>
                                </div>
                            </div>
                            <button style={{width: '100%', background: '#16a34a', color: 'white', border: 'none', padding: '12px', borderRadius: '8px', fontWeight: '600', cursor: 'pointer'}}>
                                View Full Report
                            </button>
                        </AdminModal>
                    )}

                    {showModal === 'users' && (
                        <AdminModal 
                            title="User Management"
                            icon=""
                            onClose={() => setShowModal(null)}
                        >
                            <p style={{marginBottom: '16px', color: '#6b7280'}}>Manage resident accounts and permissions.</p>
                            <div style={{background: '#d1fae5', padding: '12px', borderRadius: '8px', marginBottom: '12px'}}>
                                <strong> User Stats</strong><br/>
                                 Total Users: 0<br/>
                                 Active Today: 0<br/>
                                 Pending Verification: 0
                            </div>
                            <button style={{width: '100%', background: '#16a34a', color: 'white', border: 'none', padding: '12px', borderRadius: '8px', fontWeight: '600', cursor: 'pointer', marginBottom: '8px'}}>
                                View All Users
                            </button>
                            <button style={{width: '100%', background: 'white', color: '#16a34a', border: '1px solid #16a34a', padding: '12px', borderRadius: '8px', fontWeight: '600', cursor: 'pointer'}}>
                                Add New User
                            </button>
                        </AdminModal>
                    )}

                    {showModal === 'admins' && (
                        <AdminModal 
                            title="Admin Management"
                            icon=""
                            onClose={() => setShowModal(null)}
                        >
                            <p style={{marginBottom: '16px', color: '#6b7280'}}>Manage admin accounts and roles.</p>
                            <div style={{background: '#fce7f3', padding: '12px', borderRadius: '8px', marginBottom: '12px'}}>
                                <strong> Admin Stats</strong><br/>
                                 Total Admins: 1<br/>
                                 Super Admins: 1<br/>
                                 Department Admins: 0
                            </div>
                            <div style={{background: '#fef3c7', padding: '12px', borderRadius: '8px', marginBottom: '12px'}}>
                                <strong> Security</strong><br/>
                                 Failed Login Attempts: 0<br/>
                                 Last Admin Login: Just now
                            </div>
                            <button style={{width: '100%', background: '#16a34a', color: 'white', border: 'none', padding: '12px', borderRadius: '8px', fontWeight: '600', cursor: 'pointer'}}>
                                Manage Admins
                            </button>
                        </AdminModal>
                    )}

                    {showModal === 'ambulance' && (
                        <AdminModal 
                            title="Ambulance Requests"
                            icon=""
                            onClose={() => setShowModal(null)}
                        >
                            <p style={{marginBottom: '16px', color: '#6b7280'}}>Manage ambulance emergency requests.</p>
                            <div style={{background: '#fee2e2', padding: '12px', borderRadius: '8px', marginBottom: '12px'}}>
                                <strong> Active Requests</strong><br/>
                                 Pending: 0<br/>
                                 En Route: 0<br/>
                                 Completed Today: 0
                            </div>
                            <button style={{width: '100%', background: '#dc2626', color: 'white', border: 'none', padding: '12px', borderRadius: '8px', fontWeight: '600', cursor: 'pointer'}}>
                                View All Requests
                            </button>
                        </AdminModal>
                    )}

                    {showModal === 'fire' && (
                        <AdminModal 
                            title="Fire Incidents"
                            icon=""
                            onClose={() => setShowModal(null)}
                        >
                            <p style={{marginBottom: '16px', color: '#6b7280'}}>Manage fire emergency incidents.</p>
                            <div style={{background: '#fed7aa', padding: '12px', borderRadius: '8px', marginBottom: '12px'}}>
                                <strong> Active Incidents</strong><br/>
                                 Pending: 0<br/>
                                 Fire Trucks Deployed: 0<br/>
                                 Resolved Today: 0
                            </div>
                            <button style={{width: '100%', background: '#ea580c', color: 'white', border: 'none', padding: '12px', borderRadius: '8px', fontWeight: '600', cursor: 'pointer'}}>
                                View All Incidents
                            </button>
                        </AdminModal>
                    )}

                    {showModal === 'police' && (
                        <AdminModal 
                            title="Police Assistance"
                            icon=""
                            onClose={() => setShowModal(null)}
                        >
                            <p style={{marginBottom: '16px', color: '#6b7280'}}>Manage police assistance requests.</p>
                            <div style={{background: '#dbeafe', padding: '12px', borderRadius: '8px', marginBottom: '12px'}}>
                                <strong> Active Requests</strong><br/>
                                 Pending: 0<br/>
                                 Units Dispatched: 0<br/>
                                 Resolved Today: 0
                            </div>
                            <button style={{width: '100%', background: '#2563eb', color: 'white', border: 'none', padding: '12px', borderRadius: '8px', fontWeight: '600', cursor: 'pointer'}}>
                                View All Requests
                            </button>
                        </AdminModal>
                    )}

                    {showModal === 'disaster' && (
                        <AdminModal 
                            title="Disaster Response"
                            icon=""
                            onClose={() => setShowModal(null)}
                        >
                            <p style={{marginBottom: '16px', color: '#6b7280'}}>Manage disaster and calamity reports.</p>
                            <div style={{background: '#e0e7ff', padding: '12px', borderRadius: '8px', marginBottom: '12px'}}>
                                <strong> Active Alerts</strong><br/>
                                 Pending: 0<br/>
                                 Response Teams: 0<br/>
                                 Affected Areas: 0
                            </div>
                            <button style={{width: '100%', background: '#7c3aed', color: 'white', border: 'none', padding: '12px', borderRadius: '8px', fontWeight: '600', cursor: 'pointer'}}>
                                View All Reports
                            </button>
                        </AdminModal>
                    )}
                </div>
            );
        }

        function AdminModal({ title, icon, children, onClose }) {
            return (
                <div className="swal-overlay" onClick={onClose}>
                    <div className="swal-modal" onClick={e => e.stopPropagation()} style={{maxWidth: '420px'}}>
                        <div className="swal-header" style={{position: 'relative', paddingBottom: '16px'}}>
                            <button className="swal-close" onClick={onClose}></button>
                            <div style={{fontSize: '48px', textAlign: 'center', marginBottom: '12px'}}>{icon}</div>
                            <h2 className="swal-title" style={{textAlign: 'center', paddingRight: 0}}>{title}</h2>
                        </div>
                        <div className="swal-body" style={{paddingTop: 0}}>
                            {children}
                        </div>
                    </div>
                </div>
            );
        }

        function ProfilePage({ onOpenModal, showToast }) {
            const [editMode, setEditMode] = useState({
                personal: false,
                contact: false,
                address: false
            });

            const [formData, setFormData] = useState({
                gender: 'Male',
                birthday: 'December 17, 2000',
                civilStatus: 'Married',
                bloodType: 'B+',
                cellNumber: '+63 912 345 6789',
                email: 'superadmin@risecdo.gov.ph',
                houseNumber: '0333',
                street: 'Duhat',
                subdivision: 'Xavier Estates',
                sitio: 'Upper',
                barangay: 'Balulang',
                city: 'Cagayan De Oro City'
            });

            const handleEdit = (section) => {
                setEditMode({...editMode, [section]: true});
            };

            const handleSave = (section) => {
                setEditMode({...editMode, [section]: false});
                showToast('Changes Saved', `Your ${section} information has been updated successfully.`);
            };

            const handleCancel = (section) => {
                setEditMode({...editMode, [section]: false});
            };

            return (
                <div className="profile-page" style={{padding: 0, background: '#f8f9fa'}}>
                    <div className="profile-header-new">
                        <div className="profile-avatar-large">
                            <div className="profile-avatar-inner">
                                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='35' r='20' fill='%2316a34a'/%3E%3Cpath d='M50 60 Q30 60 20 80 L80 80 Q70 60 50 60' fill='%2316a34a'/%3E%3C/svg%3E" alt="Avatar" className="profile-avatar-img" />
                            </div>
                            <div className="profile-camera-btn"></div>
                        </div>
                        <div className="profile-name-large">Super Admin</div>
                        <div className="profile-email-large">superadmin@risecdo.gov.ph</div>
                    </div>
                    <div className="profile-cards-container">
                        {/* Personal Information Card */}
                        <div className="profile-info-card">
                            <div className="profile-card-header">
                                <div className="profile-card-title">Personal Information</div>
                                <div className="profile-actions">
                                    {!editMode.personal ? (
                                        <div className="profile-action-icon edit" onClick={() => handleEdit('personal')} title="Edit"></div>
                                    ) : (
                                        <>
                                            <div className="profile-action-icon save" onClick={() => handleSave('personal')} title="Save"></div>
                                            <div className="profile-action-icon cancel" onClick={() => handleCancel('personal')} title="Cancel"></div>
                                        </>
                                    )}
                                </div>
                            </div>
                            <div className="profile-info-grid">
                                <div className="profile-info-item">
                                    <div className="profile-info-label">Gender</div>
                                    {editMode.personal ? (
                                        <select className="profile-info-select" value={formData.gender} onChange={(e) => setFormData({...formData, gender: e.target.value})}>
                                            <option>Male</option>
                                            <option>Female</option>
                                        </select>
                                    ) : (
                                        <div className="profile-info-value">{formData.gender}</div>
                                    )}
                                </div>
                                <div className="profile-info-item">
                                    <div className="profile-info-label">Birthday</div>
                                    {editMode.personal ? (
                                        <input type="text" className="profile-info-input" value={formData.birthday} onChange={(e) => setFormData({...formData, birthday: e.target.value})} />
                                    ) : (
                                        <div className="profile-info-value">{formData.birthday}</div>
                                    )}
                                </div>
                                <div className="profile-info-item">
                                    <div className="profile-info-label">Civil Status</div>
                                    {editMode.personal ? (
                                        <select className="profile-info-select" value={formData.civilStatus} onChange={(e) => setFormData({...formData, civilStatus: e.target.value})}>
                                            <option>Single</option>
                                            <option>Married</option>
                                            <option>Widowed</option>
                                            <option>Separated</option>
                                        </select>
                                    ) : (
                                        <div className="profile-info-value">{formData.civilStatus}</div>
                                    )}
                                </div>
                                <div className="profile-info-item">
                                    <div className="profile-info-label">Blood Type</div>
                                    {editMode.personal ? (
                                        <select className="profile-info-select" value={formData.bloodType} onChange={(e) => setFormData({...formData, bloodType: e.target.value})}>
                                            <option>A+</option>
                                            <option>A-</option>
                                            <option>B+</option>
                                            <option>B-</option>
                                            <option>AB+</option>
                                            <option>AB-</option>
                                            <option>O+</option>
                                            <option>O-</option>
                                        </select>
                                    ) : (
                                        <div className="profile-info-value">{formData.bloodType}</div>
                                    )}
                                </div>
                            </div>
                        </div>

                        {/* Contact Information Card */}
                        <div className="profile-info-card">
                            <div className="profile-card-header">
                                <div className="profile-card-title">Contact Information</div>
                                <div className="profile-actions">
                                    {!editMode.contact ? (
                                        <div className="profile-action-icon edit" onClick={() => handleEdit('contact')} title="Edit"></div>
                                    ) : (
                                        <>
                                            <div className="profile-action-icon save" onClick={() => handleSave('contact')} title="Save"></div>
                                            <div className="profile-action-icon cancel" onClick={() => handleCancel('contact')} title="Cancel"></div>
                                        </>
                                    )}
                                </div>
                            </div>
                            <div className="profile-info-grid">
                                <div className="profile-info-item full-width">
                                    <div className="profile-info-label">Cell Number</div>
                                    {editMode.contact ? (
                                        <input type="tel" className="profile-info-input" value={formData.cellNumber} onChange={(e) => setFormData({...formData, cellNumber: e.target.value})} />
                                    ) : (
                                        <div className="profile-info-value">{formData.cellNumber}</div>
                                    )}
                                </div>
                                <div className="profile-info-item full-width">
                                    <div className="profile-info-label">Email Address</div>
                                    {editMode.contact ? (
                                        <input type="email" className="profile-info-input" value={formData.email} onChange={(e) => setFormData({...formData, email: e.target.value})} />
                                    ) : (
                                        <div className="profile-info-value">{formData.email}</div>
                                    )}
                                </div>
                            </div>
                        </div>

                        {/* Complete Address Card */}
                        <div className="profile-info-card">
                            <div className="profile-card-header">
                                <div className="profile-card-title">Complete Address</div>
                                <div className="profile-actions">
                                    {!editMode.address ? (
                                        <div className="profile-action-icon edit" onClick={() => handleEdit('address')} title="Edit"></div>
                                    ) : (
                                        <>
                                            <div className="profile-action-icon save" onClick={() => handleSave('address')} title="Save"></div>
                                            <div className="profile-action-icon cancel" onClick={() => handleCancel('address')} title="Cancel"></div>
                                        </>
                                    )}
                                </div>
                            </div>
                            <div className="profile-info-grid">
                                <div className="profile-info-item">
                                    <div className="profile-info-label">House Number</div>
                                    {editMode.address ? (
                                        <input type="text" className="profile-info-input" value={formData.houseNumber} onChange={(e) => setFormData({...formData, houseNumber: e.target.value})} />
                                    ) : (
                                        <div className="profile-info-value">{formData.houseNumber}</div>
                                    )}
                                </div>
                                <div className="profile-info-item">
                                    <div className="profile-info-label">Street</div>
                                    {editMode.address ? (
                                        <input type="text" className="profile-info-input" value={formData.street} onChange={(e) => setFormData({...formData, street: e.target.value})} />
                                    ) : (
                                        <div className="profile-info-value">{formData.street}</div>
                                    )}
                                </div>
                                <div className="profile-info-item">
                                    <div className="profile-info-label">Subdivision/Zone No.</div>
                                    {editMode.address ? (
                                        <input type="text" className="profile-info-input" value={formData.subdivision} onChange={(e) => setFormData({...formData, subdivision: e.target.value})} />
                                    ) : (
                                        <div className="profile-info-value">{formData.subdivision}</div>
                                    )}
                                </div>
                                <div className="profile-info-item">
                                    <div className="profile-info-label">Sitio/Purok</div>
                                    {editMode.address ? (
                                        <input type="text" className="profile-info-input" value={formData.sitio} onChange={(e) => setFormData({...formData, sitio: e.target.value})} />
                                    ) : (
                                        <div className="profile-info-value">{formData.sitio}</div>
                                    )}
                                </div>
                                <div className="profile-info-item">
                                    <div className="profile-info-label">Barangay</div>
                                    {editMode.address ? (
                                        <input type="text" className="profile-info-input" value={formData.barangay} onChange={(e) => setFormData({...formData, barangay: e.target.value})} />
                                    ) : (
                                        <div className="profile-info-value">{formData.barangay}</div>
                                    )}
                                </div>
                                <div className="profile-info-item">
                                    <div className="profile-info-label">City</div>
                                    {editMode.address ? (
                                        <input type="text" className="profile-info-input" value={formData.city} onChange={(e) => setFormData({...formData, city: e.target.value})} />
                                    ) : (
                                        <div className="profile-info-value">{formData.city}</div>
                                    )}
                                </div>
                            </div>
                        </div>

                        <button className="profile-btn" onClick={() => onOpenModal('password')}>Change Password</button>
                        <button className="profile-btn logout-btn" onClick={() => onOpenModal('logout')}>Log Out</button>
                    </div>
                </div>
            );
        }

        // Payment System (from RISE-FINAL-WITH-PAYMENTS.html)
        function PaymentSystem({ flow, setFlow, resetFlow }) {
            if (flow.step === 'main') return <PaymentMainPage setFlow={setFlow} />;
            if (flow.step === 'category') return <RealPropertyTaxPage setFlow={setFlow} />;
            if (flow.step === 'payment-form') return <PaymentFormModal setFlow={setFlow} flow={flow} />;
            if (flow.step === 'payment-method') return <PaymentMethodModal setFlow={setFlow} flow={flow} />;
            if (flow.step === 'payment-qr') return <PaymentQRModal setFlow={setFlow} flow={flow} />;
            if (flow.step === 'upload-proof') return <UploadProofModal setFlow={setFlow} flow={flow} />;
            if (flow.step === 'success') return <SuccessModal setFlow={setFlow} resetFlow={resetFlow} />;
            return null;
        }

        function PaymentMainPage({ setFlow }) {
            return (
                <div className="payment-page">
                    <div className="payment-hero">
                        <h2>Taxes, Permits & Licenses</h2>
                    </div>
                    <div className="treasurer-info">
                        <div className="treasurer-info-title">
                            <span></span> City Treasurer's Office
                        </div>
                        <div className="treasurer-info-text">View payment options and requirements</div>
                    </div>
                    <div className="section-label">PAYMENT CATEGORIES</div>
                    <div className="payment-list">
                        <div className="payment-item" onClick={() => setFlow(prev => ({...prev, category: 'property', step: 'category'}))}>
                            <div className="payment-item-icon blue"></div>
                            <div className="payment-item-content">
                                <div className="payment-item-title">Real Property Tax</div>
                                <div className="payment-item-subtitle">Land and building taxes</div>
                            </div>
                            <div className="payment-item-arrow"></div>
                        </div>
                        <div className="payment-item">
                            <div className="payment-item-icon green"></div>
                            <div className="payment-item-content">
                                <div className="payment-item-title">Business Taxes & Permits</div>
                                <div className="payment-item-subtitle">Business-related payments</div>
                            </div>
                            <div className="payment-item-arrow"></div>
                        </div>
                        <div className="payment-item">
                            <div className="payment-item-icon purple"></div>
                            <div className="payment-item-content">
                                <div className="payment-item-title">Community Tax Certificate</div>
                                <div className="payment-item-subtitle">Cedula / CTC</div>
                            </div>
                            <div className="payment-item-arrow"></div>
                        </div>
                        <div className="payment-item">
                            <div className="payment-item-icon orange"></div>
                            <div className="payment-item-content">
                                <div className="payment-item-title">Regulatory Fees</div>
                                <div className="payment-item-subtitle">Licenses and clearances</div>
                            </div>
                            <div className="payment-item-arrow"></div>
                        </div>
                        <div className="payment-item">
                            <div className="payment-item-icon red"></div>
                            <div className="payment-item-content">
                                <div className="payment-item-title">Motor Vehicle Fees</div>
                                <div className="payment-item-subtitle">Tricycle and vehicle permits</div>
                            </div>
                            <div className="payment-item-arrow"></div>
                        </div>
                    </div>
                    <div className="payment-methods-box">
                        <div className="payment-methods-title">
                            <span></span> Payment Methods Available
                        </div>
                        <div className="payment-methods-grid">
                            <div className="payment-method-chip">
                                <div className="payment-method-chip-icon gcash">G</div>
                                GCash
                            </div>
                            <div className="payment-method-chip">
                                <div className="payment-method-chip-icon maya">M</div>
                                Maya
                            </div>
                            <div className="payment-method-chip">
                                <div className="payment-method-chip-icon bank"></div>
                                Bank Transfer
                            </div>
                            <div className="payment-method-chip">
                                <div className="payment-method-chip-icon otc"></div>
                                Over-the-Counter
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        function RealPropertyTaxPage({ setFlow }) {
            return (
                <div className="payment-page">
                    <div className="payment-hero">
                        <button className="back-link" onClick={() => setFlow(prev => ({...prev, step: 'main'}))}>
                            <span></span> Back
                        </button>
                        <div style={{display: 'flex', alignItems: 'center', gap: '12px'}}>
                            <div style={{width: '40px', height: '40px', background: 'rgba(255,255,255,0.2)', borderRadius: '10px', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '20px'}}></div>
                            <div>
                                <h2 style={{fontSize: '20px', fontWeight: '700'}}>Real Property Tax</h2>
                                <p style={{fontSize: '13px', opacity: '0.9'}}>Land and building taxes</p>
                            </div>
                        </div>
                    </div>
                    <div className="tax-options">
                        <div className="tax-option" onClick={() => setFlow(prev => ({...prev, taxType: 'annual', step: 'payment-form'}))}>
                            <div className="tax-option-content">
                                <h3>Annual Real Property Tax</h3>
                                <p>Yearly property tax payment</p>
                            </div>
                            <div className="tax-option-arrow"></div>
                        </div>
                        <div className="tax-option">
                            <div className="tax-option-content">
                                <h3>Quarterly Payment</h3>
                                <p>Pay in 4 installments</p>
                            </div>
                            <div className="tax-option-arrow"></div>
                        </div>
                        <div className="tax-option">
                            <div className="tax-option-content">
                                <h3>Tax Clearance</h3>
                                <p>Certificate of no tax liability<br/><span style={{color: '#16a34a', fontWeight: '600'}}>100</span></p>
                            </div>
                            <div className="tax-option-arrow"></div>
                        </div>
                    </div>
                    <div className="city-office-box">
                        <div className="city-office-title">
                            <span></span> City Treasurer's Office
                        </div>
                        <div className="city-office-text">
                            For payments, visit the City Treasurer's Office at City Hall Complex or use our online payment options.
                        </div>
                        <div className="city-office-text city-office-hours">
                            Office Hours: Mon-Fri, 8:00 AM - 5:00 PM
                        </div>
                        <div className="city-office-text city-office-hours">
                            Hotline: (088) 857-1234 loc. 123
                        </div>
                    </div>
                </div>
            );
        }

        function PaymentFormModal({ setFlow, flow }) {
            const [amount, setAmount] = useState('');
            const total = amount ? parseFloat(amount) + 50 : 50;

            return (
                <div className="modal-overlay">
                    <div className="modal">
                        <div className="modal-header">
                            <div className="modal-title-section">
                                <h2>Annual Real Property Tax</h2>
                                <p>Yearly property tax payment</p>
                            </div>
                            <button className="close-btn" onClick={() => setFlow(prev => ({...prev, step: 'category'}))}></button>
                        </div>
                        <div className="modal-content">
                            <div className="form-group">
                                <div className="form-label">Reference Number</div>
                                <div className="reference-box">
                                    <div>
                                        <div className="reference-label">Reference Number</div>
                                        <div className="reference-value">CD0-MJX51T5J-3XYK</div>
                                    </div>
                                    <span className="copy-icon"></span>
                                </div>
                            </div>
                            <div className="form-group">
                                <label className="form-label">Assessed Amount (PHP)</label>
                                <small style={{display: 'block', fontSize: '12px', color: '#6b7280', marginBottom: '8px'}}>Enter the amount from your assessment notice</small>
                                <input 
                                    type="number" 
                                    className="form-input" 
                                    placeholder="0.00"
                                    value={amount}
                                    onChange={(e) => setAmount(e.target.value)}
                                />
                            </div>
                            <div className="fee-row">
                                <span className="fee-label">Processing Fee</span>
                                <span className="fee-value">50</span>
                            </div>
                            <div className="fee-row total-row">
                                <span className="fee-label">Total Amount</span>
                                <span className="fee-value">{total.toLocaleString()}</span>
                            </div>
                            <div className="form-group" style={{marginTop: '20px'}}>
                                <div className="form-label">Requirements:</div>
                                <ul className="requirements-list">
                                    <li><span className="check-icon"></span> Tax Declaration Number</li>
                                    <li><span className="check-icon"></span> Property location</li>
                                    <li><span className="check-icon"></span> Owner's name</li>
                                </ul>
                            </div>
                        </div>
                        <div className="modal-footer">
                            <button 
                                className="btn btn-primary btn-block"
                                onClick={() => setFlow(prev => ({...prev, amount: total, step: 'payment-method'}))}
                            >
                                Proceed to Payment
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        function PaymentMethodModal({ setFlow, flow }) {
            const [selected, setSelected] = useState('gcash');

            return (
                <div className="modal-overlay">
                    <div className="modal">
                        <div className="modal-header">
                            <div className="modal-title-section">
                                <h2>Select Payment Method</h2>
                                <p>Choose how you want to pay</p>
                            </div>
                            <button className="close-btn" onClick={() => setFlow(prev => ({...prev, step: 'payment-form'}))}></button>
                        </div>
                        <div className="modal-content">
                            <div className="amount-to-pay-box">
                                <div className="amount-to-pay-label">Amount to Pay</div>
                                <div className="amount-to-pay-value">{flow.amount.toLocaleString()}</div>
                            </div>
                            <div className="payment-method-options">
                                <div className={`payment-method-option ${selected === 'gcash' ? 'selected' : ''}`} onClick={() => setSelected('gcash')}>
                                    <div className={`payment-radio ${selected === 'gcash' ? 'selected' : ''}`}></div>
                                    <div className="payment-method-icon-large" style={{background: '#dbeafe', color: '#1e40af'}}>G</div>
                                    <div className="payment-method-info">
                                        <div className="payment-method-name">GCash</div>
                                        <div className="payment-method-desc">Pay via GCash e-wallet</div>
                                    </div>
                                    <span style={{color: '#d1d5db', fontSize: '20px'}}></span>
                                </div>
                                <div className={`payment-method-option ${selected === 'maya' ? 'selected' : ''}`} onClick={() => setSelected('maya')}>
                                    <div className={`payment-radio ${selected === 'maya' ? 'selected' : ''}`}></div>
                                    <div className="payment-method-icon-large" style={{background: '#d1fae5', color: '#065f46'}}>M</div>
                                    <div className="payment-method-info">
                                        <div className="payment-method-name">Maya</div>
                                        <div className="payment-method-desc">Pay via Maya e-wallet</div>
                                    </div>
                                    <span style={{color: '#d1d5db', fontSize: '20px'}}></span>
                                </div>
                                <div className={`payment-method-option ${selected === 'bank' ? 'selected' : ''}`} onClick={() => setSelected('bank')}>
                                    <div className={`payment-radio ${selected === 'bank' ? 'selected' : ''}`}></div>
                                    <div className="payment-method-icon-large" style={{background: '#e9d5ff', color: '#6b21a8'}}></div>
                                    <div className="payment-method-info">
                                        <div className="payment-method-name">Bank Transfer</div>
                                        <div className="payment-method-desc">LandBank, DBP, PNB</div>
                                    </div>
                                    <span style={{color: '#d1d5db', fontSize: '20px'}}></span>
                                </div>
                                <div className={`payment-method-option ${selected === 'otc' ? 'selected' : ''}`} onClick={() => setSelected('otc')}>
                                    <div className={`payment-radio ${selected === 'otc' ? 'selected' : ''}`}></div>
                                    <div className="payment-method-icon-large" style={{background: '#fed7aa', color: '#c2410c'}}></div>
                                    <div className="payment-method-info">
                                        <div className="payment-method-name">Over-the-Counter</div>
                                        <div className="payment-method-desc">Pay at authorized centers</div>
                                    </div>
                                    <span style={{color: '#d1d5db', fontSize: '20px'}}></span>
                                </div>
                            </div>
                        </div>
                        <div className="modal-footer">
                            <button className="btn btn-secondary" style={{flex: 1}} onClick={() => setFlow(prev => ({...prev, step: 'payment-form'}))}>Back</button>
                            <button 
                                className="btn btn-primary" 
                                style={{flex: 1}}
                                onClick={() => setFlow(prev => ({...prev, paymentMethod: selected, step: 'payment-qr'}))}
                            >
                                Continue
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        function PaymentQRModal({ setFlow, flow }) {
            const canvasRef = useRef(null);

            useEffect(() => {
                if (canvasRef.current && window.QRCode) {
                    QRCode.toCanvas(canvasRef.current, 'CDO-TREASURER-788606', { width: 200, margin: 1 });
                }
            }, []);

            return (
                <div className="modal-overlay">
                    <div className="modal" style={{maxHeight: '95vh'}}>
                        <div className="modal-header">
                            <div className="modal-title-section">
                                <h2> Pay via GCash</h2>
                                <p>Follow the instructions below</p>
                            </div>
                            <button className="close-btn" onClick={() => setFlow(prev => ({...prev, step: 'payment-method'}))}></button>
                        </div>
                        <div className="modal-content">
                            <div className="amount-to-pay-box">
                                <div className="amount-to-pay-label">Amount to Pay</div>
                                <div className="amount-to-pay-value">{flow.amount.toLocaleString()}</div>
                                <div style={{fontSize: '12px', color: '#065f46', marginTop: '4px'}}>Ref: CD0-MJX51T5J-3XYK</div>
                            </div>
                            <div className="qr-code-section">
                                <div className="qr-code-label">Scan QR Code</div>
                                <canvas ref={canvasRef} className="qr-code-canvas"></canvas>
                                <div className="qr-code-merchant">CDO CITY TREASURER</div>
                                <div className="qr-code-number">0917-123-4567 <span className="copy-icon"></span></div>
                            </div>
                            <div className="instructions-box">
                                <div className="instructions-title">Instructions:</div>
                                <ol className="instructions-list">
                                    <li><span className="instruction-number">1</span> Open your GCash app</li>
                                    <li><span className="instruction-number">2</span> Tap 'Send Money' or scan the QR code</li>
                                    <li><span className="instruction-number">3</span> Send exactly {flow.amount.toLocaleString()} to 0917-123-4567</li>
                                    <li><span className="instruction-number">4</span> Use "CD0-MJX51T5J-3XYK" as the message/reference</li>
                                    <li><span className="instruction-number">5</span> Take a screenshot of your receipt</li>
                                    <li><span className="instruction-number">6</span> Upload proof of payment below</li>
                                </ol>
                            </div>
                            <div className="warning-box">
                                <span className="warning-icon"></span>
                                <div className="warning-text">
                                    <strong>After payment, take a screenshot of your receipt. You may upload it as proof of payment.</strong>
                                </div>
                            </div>
                        </div>
                        <div className="modal-footer">
                            <button className="btn btn-secondary" style={{flex: 1}} onClick={() => setFlow(prev => ({...prev, step: 'payment-method'}))}>Back</button>
                            <button 
                                className="btn btn-primary" 
                                style={{flex: 1}}
                                onClick={() => setFlow(prev => ({...prev, step: 'upload-proof'}))}
                            >
                                I've Paid
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        function UploadProofModal({ setFlow, flow }) {
            return (
                <div className="modal-overlay">
                    <div className="modal">
                        <div className="modal-header">
                            <div className="modal-title-section">
                                <h2>Upload Proof of Payment</h2>
                                <p>Upload a screenshot or photo of your payment receipt</p>
                            </div>
                            <button className="close-btn" onClick={() => setFlow(prev => ({...prev, step: 'payment-qr'}))}></button>
                        </div>
                        <div className="modal-content">
                            <div style={{background: '#f0fdf4', padding: '12px', borderRadius: '8px', marginBottom: '20px'}}>
                                <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '8px'}}>
                                    <span style={{fontSize: '13px', color: '#166534', fontWeight: '600'}}>Reference</span>
                                    <span style={{fontSize: '13px', color: '#166534'}}>CD0-MJX51T5J-3XYK</span>
                                </div>
                                <div style={{display: 'flex', justifyContent: 'space-between'}}>
                                    <span style={{fontSize: '13px', color: '#166534', fontWeight: '600'}}>Amount Paid</span>
                                    <span style={{fontSize: '13px', color: '#166534', fontWeight: '700'}}>{flow.amount.toLocaleString()}</span>
                                </div>
                            </div>
                            <div className="upload-area" onClick={() => alert('File upload clicked')}>
                                <div className="upload-icon"></div>
                                <div className="upload-text">Click to upload</div>
                                <div className="upload-subtext">PNG, JPG, or PDF up to 10MB</div>
                            </div>
                            <div className="info-box">
                                <span className="info-icon"></span>
                                <div className="info-text">
                                    Uploading proof of payment helps speed up the verification process. Your payment will be verified within 1-2 business days.
                                </div>
                            </div>
                        </div>
                        <div className="modal-footer">
                            <button className="btn btn-secondary" style={{flex: 1}} onClick={() => setFlow(prev => ({...prev, step: 'success'}))}>Skip</button>
                            <button 
                                className="btn btn-primary" 
                                style={{flex: 1}}
                                onClick={() => setFlow(prev => ({...prev, step: 'success'}))}
                            >
                                Submit Proof
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        function SuccessModal({ setFlow, resetFlow }) {
            return (
                <div className="modal-overlay">
                    <div className="modal">
                        <div className="modal-header" style={{borderBottom: 'none'}}>
                            <div style={{flex: 1}}></div>
                            <button className="close-btn" onClick={() => { resetFlow(); }}></button>
                        </div>
                        <div className="modal-content" style={{textAlign: 'center'}}>
                            <div className="success-icon"></div>
                            <div className="success-title">Proof Submitted!</div>
                            <div className="success-subtitle">Your proof has been uploaded for verification</div>
                            <div className="success-details">
                                <div className="success-detail-row">
                                    <span className="success-detail-label">Reference</span>
                                    <span className="success-detail-value">CD0-MJX51T5J-3XYK</span>
                                </div>
                                <div className="success-detail-row">
                                    <span className="success-detail-label">Amount</span>
                                    <span className="success-detail-value" style={{color: '#16a34a'}}>788,606</span>
                                </div>
                                <div className="success-detail-row">
                                    <span className="success-detail-label">Method</span>
                                    <span className="success-detail-value">Gcash</span>
                                </div>
                                <div className="success-detail-row">
                                    <span className="success-detail-label">Date</span>
                                    <span className="success-detail-value">03/01/2026</span>
                                </div>
                                <div className="success-detail-row" style={{borderTop: '1px solid #e5e7eb', paddingTop: '12px', marginTop: '8px'}}>
                                    <span className="success-detail-label">Status</span>
                                    <span className="status-badge"> Pending Verification</span>
                                </div>
                            </div>
                            <div className="info-box">
                                <span className="info-icon"></span>
                                <div className="info-text">
                                    You will receive a notification once your payment has been verified. This usually takes 1-2 business days.
                                </div>
                            </div>
                        </div>
                        <div className="modal-footer">
                            <button className="btn btn-primary btn-block" onClick={() => { resetFlow(); }}>
                                 Done
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        // Emergency Pages
        function DisasterPage({ onBack, onShowToast }) {
            return (
                <>
                    <div className="emergency-hero disaster">
                        <button className="back-btn" onClick={onBack}></button>
                        <h1 className="hero-title">Disaster Emergency</h1>
                        <p className="hero-subtitle">CDRRMO</p>
                    </div>
                    <div className="emergency-content">
                        <div className="hotline-card">
                            <div className="hotline-label">Emergency Hotline</div>
                            <div className="hotline-number"> 911 / (088) 857-9999</div>
                            <button className="call-now-btn"> Call Now</button>
                            <p className="hotline-desc">Report natural disasters, floods, landslides, or calamities.</p>
                        </div>
                        <div className="what-to-do">
                            <h3>What to do:</h3>
                            <ol className="steps-list">
                                <li><span className="step-number">1</span> Move to higher ground if flooding</li>
                                <li><span className="step-number">2</span> Stay away from damaged structures</li>
                                <li><span className="step-number">3</span> Report location and number of affected people</li>
                                <li><span className="step-number">4</span> Follow evacuation orders</li>
                            </ol>
                        </div>
                        <QuickReportForm onShowToast={onShowToast} />
                    </div>
                </>
            );
        }

        function PolicePage({ onBack, onShowToast }) {
            return (
                <>
                    <div className="emergency-hero police">
                        <button className="back-btn" onClick={onBack}></button>
                        <h1 className="hero-title">Police Emergency</h1>
                        <p className="hero-subtitle">CDO Police Station</p>
                    </div>
                    <div className="emergency-content">
                        <div className="hotline-card">
                            <div className="hotline-label">Emergency Hotline</div>
                            <div className="hotline-number"> 911 / (088) 857-7777</div>
                            <button className="call-now-btn"> Call Now</button>
                            <p className="hotline-desc">Report crimes, accidents, or security emergencies.</p>
                        </div>
                        <div className="what-to-do">
                            <h3>What to do:</h3>
                            <ol className="steps-list">
                                <li><span className="step-number">1</span> Stay in a safe location</li>
                                <li><span className="step-number">2</span> Provide your location</li>
                                <li><span className="step-number">3</span> Describe the incident clearly</li>
                                <li><span className="step-number">4</span> Do not confront suspects</li>
                            </ol>
                        </div>
                        <QuickReportForm onShowToast={onShowToast} />
                    </div>
                </>
            );
        }

        function FirePage({ onBack, onShowToast }) {
            return (
                <>
                    <div className="emergency-hero fire">
                        <button className="back-btn" onClick={onBack}></button>
                        <h1 className="hero-title">Fire Emergency</h1>
                        <p className="hero-subtitle">Bureau of Fire Protection - CDO</p>
                    </div>
                    <div className="emergency-content">
                        <div className="hotline-card">
                            <div className="hotline-label">Emergency Hotline</div>
                            <div className="hotline-number"> 911 / (088) 857-5555</div>
                            <button className="call-now-btn"> Call Now</button>
                            <p className="hotline-desc">Report fire incidents for immediate response.</p>
                        </div>
                        <div className="what-to-do">
                            <h3>What to do:</h3>
                            <ol className="steps-list">
                                <li><span className="step-number">1</span> Evacuate the area immediately</li>
                                <li><span className="step-number">2</span> Call from a safe location</li>
                                <li><span className="step-number">3</span> Provide the exact address</li>
                                <li><span className="step-number">4</span> Describe the fire and any people trapped</li>
                            </ol>
                        </div>
                        <QuickReportForm onShowToast={onShowToast} />
                    </div>
                </>
            );
        }

        function AmbulancePage({ onBack, onShowToast }) {
            return (
                <>
                    <div className="emergency-hero ambulance">
                        <button className="back-btn" onClick={onBack}></button>
                        <h1 className="hero-title">Medical Emergency</h1>
                        <p className="hero-subtitle">City Health Office / Hospitals</p>
                    </div>
                    <div className="emergency-content">
                        <div className="hotline-card">
                            <div className="hotline-label">Emergency Hotline</div>
                            <div className="hotline-number"> 911 / (088) 857-1234</div>
                            <button className="call-now-btn"> Call Now</button>
                            <p className="hotline-desc">Report medical emergencies requiring ambulance response.</p>
                        </div>
                        <div className="what-to-do">
                            <h3>What to do:</h3>
                            <ol className="steps-list">
                                <li><span className="step-number">1</span> Stay calm and provide accurate information</li>
                                <li><span className="step-number">2</span> Give your exact location</li>
                                <li><span className="step-number">3</span> Describe the medical situation</li>
                                <li><span className="step-number">4</span> Stay on the line for instructions</li>
                            </ol>
                        </div>
                        <QuickReportForm onShowToast={onShowToast} />
                    </div>
                </>
            );
        }

        function QuickReportForm({ onShowToast }) {
            return (
                <div className="quick-report">
                    <h3>Quick Report</h3>
                    <label className="form-label">Your Location</label>
                    <div className="gps-warning">
                        <span className="gps-warning-icon"></span>
                        <div className="gps-warning-content">
                            <strong>GPS not available</strong>
                            <small>No problem! Just type your location below.</small>
                        </div>
                        <button className="retry-btn" onClick={onShowToast}> Retry</button>
                    </div>
                    <div className="location-input-wrapper">
                        <span className="location-icon"></span>
                        <input type="text" className="location-input" placeholder="e.g., SM CDO, Limketkai, Divisoria Market..." />
                    </div>
                    <div className="file-upload-section">
                        <label className="file-upload-label">Attach Photos, Videos, or Files</label>
                        <div className="file-buttons">
                            <button className="file-btn"> Photo</button>
                            <button className="file-btn"> Video</button>
                            <button className="file-btn"> File</button>
                        </div>
                        <div className="file-upload-info">Upload up to 5 files (photos, videos, or documents)</div>
                    </div>
                    <label className="form-label">Describe the Emergency</label>
                    <textarea className="textarea-field" placeholder="What is happening? How many people are affected? Any other important details..."></textarea>
                    <button className="submit-btn"> Send Emergency Report</button>
                </div>
            );
        }

        function EditProfileModal({ onClose, showToast }) {
            const [formData, setFormData] = useState({
                fullName: 'Super Admin',
                gender: 'Male',
                birthDate: '2000-12-17',
                civilStatus: 'Married',
                bloodType: 'B+',
                cellNumber: '+63 912 345 6789',
                email: 'superadmin@risecdo.gov.ph',
                houseNumber: '0333',
                street: 'Duhat',
                subdivision: 'Xavier Estates',
                sitio: 'Upper',
                barangay: 'Balulang',
                city: 'Cagayan De Oro City'
            });

            const handleSubmit = (e) => {
                e.preventDefault();
                onClose();
                showToast('Profile Updated', 'Your profile information has been successfully updated.');
            };

            return (
                <div className="profile-modal">
                    <div className="profile-modal-overlay" onClick={onClose}></div>
                    <div className="profile-modal-content">
                        <div className="profile-modal-header">
                            <h2 className="profile-modal-title">Edit Profile</h2>
                            <button className="close-btn" onClick={onClose}></button>
                        </div>
                        <form onSubmit={handleSubmit}>
                            <div className="profile-modal-body">
                                <div className="input-group">
                                    <label className="input-label">Full Name</label>
                                    <input 
                                        type="text" 
                                        className="input-field" 
                                        value={formData.fullName}
                                        onChange={(e) => setFormData({...formData, fullName: e.target.value})}
                                    />
                                </div>
                                <div className="input-group">
                                    <label className="input-label">Gender</label>
                                    <select 
                                        className="input-field" 
                                        value={formData.gender}
                                        onChange={(e) => setFormData({...formData, gender: e.target.value})}
                                    >
                                        <option>Male</option>
                                        <option>Female</option>
                                    </select>
                                </div>
                                <div className="input-group">
                                    <label className="input-label">Birth Date</label>
                                    <input 
                                        type="date" 
                                        className="input-field" 
                                        value={formData.birthDate}
                                        onChange={(e) => setFormData({...formData, birthDate: e.target.value})}
                                    />
                                </div>
                                <div className="input-group">
                                    <label className="input-label">Civil Status</label>
                                    <select 
                                        className="input-field" 
                                        value={formData.civilStatus}
                                        onChange={(e) => setFormData({...formData, civilStatus: e.target.value})}
                                    >
                                        <option>Single</option>
                                        <option>Married</option>
                                        <option>Widowed</option>
                                        <option>Separated</option>
                                    </select>
                                </div>
                                <div className="input-group">
                                    <label className="input-label">Blood Type</label>
                                    <select 
                                        className="input-field" 
                                        value={formData.bloodType}
                                        onChange={(e) => setFormData({...formData, bloodType: e.target.value})}
                                    >
                                        <option>A+</option>
                                        <option>A-</option>
                                        <option>B+</option>
                                        <option>B-</option>
                                        <option>AB+</option>
                                        <option>AB-</option>
                                        <option>O+</option>
                                        <option>O-</option>
                                    </select>
                                </div>
                                <div className="input-group">
                                    <label className="input-label">Cell Number</label>
                                    <input 
                                        type="tel" 
                                        className="input-field" 
                                        value={formData.cellNumber}
                                        onChange={(e) => setFormData({...formData, cellNumber: e.target.value})}
                                    />
                                </div>
                                <div className="input-group">
                                    <label className="input-label">Email</label>
                                    <input 
                                        type="email" 
                                        className="input-field" 
                                        value={formData.email}
                                        onChange={(e) => setFormData({...formData, email: e.target.value})}
                                    />
                                </div>
                                <div className="input-group">
                                    <label className="input-label">House Number</label>
                                    <input 
                                        type="text" 
                                        className="input-field" 
                                        value={formData.houseNumber}
                                        onChange={(e) => setFormData({...formData, houseNumber: e.target.value})}
                                    />
                                </div>
                                <div className="input-group">
                                    <label className="input-label">Street</label>
                                    <input 
                                        type="text" 
                                        className="input-field" 
                                        value={formData.street}
                                        onChange={(e) => setFormData({...formData, street: e.target.value})}
                                    />
                                </div>
                                <div className="input-group">
                                    <label className="input-label">Subdivision/Zone No.</label>
                                    <input 
                                        type="text" 
                                        className="input-field" 
                                        value={formData.subdivision}
                                        onChange={(e) => setFormData({...formData, subdivision: e.target.value})}
                                    />
                                </div>
                                <div className="input-group">
                                    <label className="input-label">Sitio/Purok</label>
                                    <input 
                                        type="text" 
                                        className="input-field" 
                                        value={formData.sitio}
                                        onChange={(e) => setFormData({...formData, sitio: e.target.value})}
                                    />
                                </div>
                                <div className="input-group">
                                    <label className="input-label">Barangay</label>
                                    <input 
                                        type="text" 
                                        className="input-field" 
                                        value={formData.barangay}
                                        onChange={(e) => setFormData({...formData, barangay: e.target.value})}
                                    />
                                </div>
                                <div className="input-group">
                                    <label className="input-label">City</label>
                                    <input 
                                        type="text" 
                                        className="input-field" 
                                        value={formData.city}
                                        onChange={(e) => setFormData({...formData, city: e.target.value})}
                                    />
                                </div>
                            </div>
                            <div className="profile-modal-footer">
                                <button type="button" className="btn btn-secondary" onClick={onClose}>Cancel</button>
                                <button type="submit" className="btn btn-primary">Save Changes</button>
                            </div>
                        </form>
                    </div>
                </div>
            );
        }

        function ChangePasswordModal({ onClose, showToast }) {
            const [passwords, setPasswords] = useState({
                current: '',
                new: '',
                confirm: ''
            });

            const handleSubmit = (e) => {
                e.preventDefault();
                if (passwords.new !== passwords.confirm) {
                    showToast('Password Mismatch', 'New password and confirmation do not match.');
                    return;
                }
                onClose();
                showToast('Password Changed', 'Your password has been successfully updated.');
            };

            return (
                <div className="profile-modal">
                    <div className="profile-modal-overlay" onClick={onClose}></div>
                    <div className="profile-modal-content">
                        <div className="profile-modal-header">
                            <h2 className="profile-modal-title">Change Password</h2>
                            <button className="close-btn" onClick={onClose}></button>
                        </div>
                        <form onSubmit={handleSubmit}>
                            <div className="profile-modal-body">
                                <div className="input-group">
                                    <label className="input-label">Current Password</label>
                                    <input 
                                        type="password" 
                                        className="input-field" 
                                        placeholder="Enter current password"
                                        value={passwords.current}
                                        onChange={(e) => setPasswords({...passwords, current: e.target.value})}
                                        required
                                    />
                                </div>
                                <div className="input-group">
                                    <label className="input-label">New Password</label>
                                    <input 
                                        type="password" 
                                        className="input-field" 
                                        placeholder="Enter new password"
                                        value={passwords.new}
                                        onChange={(e) => setPasswords({...passwords, new: e.target.value})}
                                        required
                                    />
                                </div>
                                <div className="input-group">
                                    <label className="input-label">Confirm New Password</label>
                                    <input 
                                        type="password" 
                                        className="input-field" 
                                        placeholder="Confirm new password"
                                        value={passwords.confirm}
                                        onChange={(e) => setPasswords({...passwords, confirm: e.target.value})}
                                        required
                                    />
                                </div>
                                <div className="password-requirements">
                                    <div className="password-requirements-title">Password Requirements:</div>
                                    <div className="password-requirements-list">
                                         At least 8 characters long<br/>
                                         Contains uppercase and lowercase letters<br/>
                                         Contains at least one number<br/>
                                         Contains at least one special character
                                    </div>
                                </div>
                            </div>
                            <div className="profile-modal-footer">
                                <button type="button" className="btn btn-secondary" onClick={onClose}>Cancel</button>
                                <button type="submit" className="btn btn-primary">Change Password</button>
                            </div>
                        </form>
                    </div>
                </div>
            );
        }

        function SweetAlertModal({ onClose }) {
            return (
                <div className="swal-overlay" onClick={onClose}>
                    <div className="swal-modal" onClick={e => e.stopPropagation()}>
                        <div className="swal-header" style={{position: 'relative'}}>
                            <button className="swal-close" onClick={onClose}></button>
                            <h2 className="swal-title">Tax Payment Deadline Extended</h2>
                            <p className="swal-subtitle">Important announcement from the City Treasurer's Office</p>
                        </div>
                        <div className="swal-body">
                            <p className="swal-text">
                                The City Government of Cagayan de Oro announces the extension of the Q1 business tax payment deadline until March 31, 2025.
                            </p>
                            <p className="swal-text">
                                This extension applies to all business establishments registered within the city. Please visit the City Treasurer's Office or use the online payment portal to settle your dues.
                            </p>
                            <div className="swal-reminders">
                                <div className="swal-reminders-title">Important Reminders:</div>
                                <ul className="swal-reminders-list">
                                    <li>Bring your previous OR for faster processing</li>
                                    <li>Online payments are available 24/7</li>
                                    <li>Early payment discounts still apply</li>
                                </ul>
                            </div>
                        </div>
                        <div className="swal-footer">
                            <button className="swal-button" onClick={onClose}>Got it</button>
                        </div>
                    </div>
                </div>
            );
        }

        function LogoutModal({ onClose, onConfirm }) {
            return (
                <div className="profile-modal">
                    <div className="profile-modal-overlay" onClick={onClose}></div>
                    <div className="profile-modal-content" style={{maxWidth: '360px'}}>
                        <div className="profile-modal-header">
                            <h2 className="profile-modal-title">Confirm Logout</h2>
                            <button className="close-btn" onClick={onClose}></button>
                        </div>
                        <div className="profile-modal-body">
                            <div className="logout-confirm-icon"></div>
                            <p className="logout-confirm-text">
                                Are you sure you want to log out? You will need to sign in again to access your account.
                            </p>
                        </div>
                        <div className="profile-modal-footer">
                            <button className="btn btn-secondary" onClick={onClose}>Cancel</button>
                            <button className="btn btn-primary" style={{background: '#ef4444'}} onClick={onConfirm}>Log Out</button>
                        </div>
                    </div>
                </div>
            );
        }

        function Toast({ message, onClose }) {
            React.useEffect(() => {
                const timer = setTimeout(onClose, 4000);
                return () => clearTimeout(timer);
            }, []);
            return (
                <div className="toast">
                    <strong>{message?.title || 'Notification'}</strong>
                    <small>{message?.message || 'Action completed'}</small>
                </div>
            );
        }

        function Header({ onNotificationClick, onMenuClick, unreadCount }) {
            return (
                <div className="app-header">
                    <div className="header-left">
                        <div className="app-logo">RISE</div>
                        <div className="header-text">
                            <div className="title">RISE CdeO</div>
                            <div className="subtitle">CAGAYAN DE ORO CITY</div>
                        </div>
                    </div>
                    <div className="header-icons">
                        <button className="icon-btn" onClick={onNotificationClick}>
                            
                            {unreadCount > 0 && <span className="notification-badge">{unreadCount}</span>}
                        </button>
                        <button className="icon-btn" onClick={onMenuClick}></button>
                    </div>
                </div>
            );
        }

        function NotificationPanel({ notifications, setNotifications, onClose }) {
            const markAllAsRead = () => {
                setNotifications(notifications.map(n => ({ ...n, unread: false })));
            };

            const markAsRead = (id) => {
                setNotifications(notifications.map(n => n.id === id ? { ...n, unread: false } : n));
            };

            return (
                <>
                    <div className="menu-overlay" onClick={onClose}></div>
                    <div className="notification-panel">
                        <div className="panel-header">
                            <h2 className="panel-title">Notifications</h2>
                            <button className="mark-read-btn" onClick={markAllAsRead}>Mark all read</button>
                        </div>
                        <div className="panel-content">
                            {notifications.length > 0 ? (
                                notifications.map(notif => (
                                    <div 
                                        key={notif.id} 
                                        className={`notification-item ${notif.unread ? 'unread' : ''}`}
                                        onClick={() => markAsRead(notif.id)}
                                    >
                                        <div className={`notification-icon-wrapper ${notif.type}`}>
                                            {notif.icon}
                                        </div>
                                        <div className="notification-content">
                                            <div className="notification-title">{notif.title}</div>
                                            <div className="notification-message">{notif.message}</div>
                                            <div className="notification-time">{notif.time}</div>
                                        </div>
                                    </div>
                                ))
                            ) : (
                                <div className="no-notifications">
                                    <div className="no-notifications-icon"></div>
                                    <div className="no-notifications-text">No notifications yet</div>
                                </div>
                            )}
                        </div>
                    </div>
                </>
            );
        }

        function MenuDrawer({ onClose, setCurrentPage, setShowMenu, showToast }) {
            const handleNavigation = (page) => {
                setCurrentPage(page);
                setShowMenu(false);
            };

            const handleFeatureClick = (feature) => {
                setShowMenu(false);
                showToast('Feature Coming Soon', `${feature} will be available in the next update!`);
            };

            return (
                <>
                    <div className="menu-overlay" onClick={onClose}></div>
                    <div className="menu-drawer">
                        <div className="menu-header">
                            <button className="menu-close" onClick={onClose}></button>
                            <div className="menu-user">
                                <div className="menu-avatar">in</div>
                                <div className="menu-user-info">
                                    <div className="menu-user-name">Ian Nani</div>
                                    <div className="menu-user-email">nani@yahoo.com</div>
                                </div>
                            </div>
                        </div>
                        <div className="menu-content">
                            <div className="menu-section">
                                <div className="menu-section-title">MAIN MENU</div>
                                <button className="menu-item" onClick={() => handleNavigation('home')}>
                                    <div className="menu-item-icon green"></div>
                                    <div className="menu-item-content">
                                        <div className="menu-item-title">Home</div>
                                        <div className="menu-item-desc">Dashboard and quick access</div>
                                    </div>
                                </button>
                                <button className="menu-item" onClick={() => handleNavigation('myqr')}>
                                    <div className="menu-item-icon blue"></div>
                                    <div className="menu-item-content">
                                        <div className="menu-item-title">My QR Code</div>
                                        <div className="menu-item-desc">Digital ID and QR code</div>
                                    </div>
                                </button>
                                <button className="menu-item" onClick={() => handleNavigation('pay')}>
                                    <div className="menu-item-icon purple"></div>
                                    <div className="menu-item-content">
                                        <div className="menu-item-title">Payments</div>
                                        <div className="menu-item-desc">Pay taxes and fees online</div>
                                    </div>
                                </button>
                                <button className="menu-item" onClick={() => handleNavigation('profile')}>
                                    <div className="menu-item-icon orange"></div>
                                    <div className="menu-item-content">
                                        <div className="menu-item-title">Profile</div>
                                        <div className="menu-item-desc">Manage your account</div>
                                    </div>
                                </button>
                            </div>
                            <div className="menu-divider"></div>
                            <div className="menu-section">
                                <div className="menu-section-title">QUICK ACCESS</div>
                                <button className="menu-item" onClick={() => handleFeatureClick('All Departments')}>
                                    <div className="menu-item-icon green"></div>
                                    <div className="menu-item-content">
                                        <div className="menu-item-title">All Departments</div>
                                        <div className="menu-item-desc">Browse 44 city offices</div>
                                    </div>
                                </button>
                                <button className="menu-item" onClick={() => handleFeatureClick('Service Requests')}>
                                    <div className="menu-item-icon blue"></div>
                                    <div className="menu-item-content">
                                        <div className="menu-item-title">Service Requests</div>
                                        <div className="menu-item-desc">Track your applications</div>
                                    </div>
                                </button>
                                <button className="menu-item" onClick={() => handleFeatureClick('Settings')}>
                                    <div className="menu-item-icon orange"></div>
                                    <div className="menu-item-content">
                                        <div className="menu-item-title">Settings</div>
                                        <div className="menu-item-desc">App preferences</div>
                                    </div>
                                </button>
                            </div>
                            <div className="menu-divider"></div>
                            <div className="menu-section">
                                <button className="menu-item" onClick={() => { setShowMenu(false); handleNavigation('profile'); setTimeout(() => document.querySelector('.logout-btn')?.click(), 300); }}>
                                    <div className="menu-item-icon red"></div>
                                    <div className="menu-item-content">
                                        <div className="menu-item-title">Log Out</div>
                                        <div className="menu-item-desc">Sign out of your account</div>
                                    </div>
                                </button>
                            </div>
                        </div>
                        <div className="menu-footer">
                            <div className="menu-version">RISE CdeO v1.0.0</div>
                        </div>
                    </div>
                </>
            );
        }

        function BottomNav({ currentPage, setCurrentPage, setDigitalIdView, resetPaymentFlow }) {
            const handleNavClick = (page) => {
                setDigitalIdView(false);
                if (page === 'pay') resetPaymentFlow();
                setCurrentPage(page);
            };

            const QRIcon = ({ isActive }) => (
                <svg className="qr-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="3" y="3" width="8" height="8" rx="1" fill="currentColor"/>
                    <rect x="13" y="3" width="8" height="8" rx="1" fill="currentColor"/>
                    <rect x="3" y="13" width="8" height="8" rx="1" fill="currentColor"/>
                    <rect x="5" y="5" width="4" height="4" fill={isActive ? "#16a34a" : "#f9fafb"}/>
                    <rect x="15" y="5" width="4" height="4" fill={isActive ? "#16a34a" : "#f9fafb"}/>
                    <rect x="5" y="15" width="4" height="4" fill={isActive ? "#16a34a" : "#f9fafb"}/>
                    <rect x="13" y="13" width="3" height="3" fill="currentColor"/>
                    <rect x="17" y="13" width="4" height="3" fill="currentColor"/>
                    <rect x="13" y="17" width="3" height="4" fill="currentColor"/>
                    <rect x="17" y="17" width="4" height="4" fill="currentColor"/>
                </svg>
            );

            return (
                <nav className="bottom-nav">
                    <button className={`nav-item ${currentPage === 'home' ? 'active' : ''}`} onClick={() => handleNavClick('home')}>
                        <span className="nav-icon"></span>
                        <span className="nav-label">Home</span>
                    </button>
                    <button className="nav-item">
                        <span className="nav-icon"></span>
                        <span className="nav-label">History</span>
                    </button>
                    <button className={`nav-item ${currentPage === 'myqr' ? 'active' : ''}`} onClick={() => handleNavClick('myqr')}>
                        <span className="nav-icon"><QRIcon isActive={currentPage === 'myqr'} /></span>
                        <span className="nav-label">MyQR</span>
                    </button>
                    <button className={`nav-item ${currentPage === 'pay' ? 'active' : ''}`} onClick={() => handleNavClick('pay')}>
                        <span className="nav-icon"></span>
                        <span className="nav-label">Pay</span>
                    </button>
                    <button className={`nav-item ${currentPage === 'profile' ? 'active' : ''}`} onClick={() => handleNavClick('profile')}>
                        <span className="nav-icon"></span>
                        <span className="nav-label">Profile</span>
                    </button>
                </nav>
            );
        }

        function ChatFAB() {
            return <button className="chat-fab"></button>;
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
